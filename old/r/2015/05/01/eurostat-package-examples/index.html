<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Searching, downloading and manipulating Eurostat data with R &mdash; rOpenGov</title>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link type="text/css" rel="stylesheet" href="/assets/main.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="rOpenGov" />
    <meta name="title" content="Searching, downloading and manipulating Eurostat data with R ">
    <link rel="canonical" href="http://ropengov.github.io/r/2015/05/01/eurostat-package-examples/">
    
    
    <meta property="og:title" content="Searching, downloading and manipulating Eurostat data with R "/>
    <meta property="og:url" content="http://ropengov.github.io/r/2015/05/01/eurostat-package-examples/"/>
    
    <!--
    <meta property="og:description" content="New package eurostat released in CRAN"/>
    <meta name="description" content="New package eurostat released in CRAN"/>
    -->
    <meta property="og:site_name" content="rOpenGov">

    <!-- moved here 5.11.2014 - Juuso -->
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44262937-1', 'http://ropengov.github.io');
  ga('send', 'pageview');
</script>



</head>
<body>

<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/logo.png" alt="rOpenGov">
            </a>
            <a href="/" class="home">Blog</a>
            
            <a href="http://ropengov.github.io/projects">Projects</a>
            <a href="http://ropengov.github.io/about">About</a>
            <a href="http://ropengov.github.io/contribute">Contribute</a>
        </nav>
        
    </header>
</section>


<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Markus Kainu" target="_blank">Markus Kainu</a> &mdash;
                <time pubdate datetime="2015-01-May" title="May 01, 2015">May 01, 2015</time>
            </div>
            <h1 class="title">Searching, downloading and manipulating Eurostat data with R</h1>
            
        </header>

        <section>
            <h2 id="introduction">Introduction</h2>

<p>We have published a new package <code>eurostat</code> in <a href="http://cran.r-project.org/">CRAN</a>. To install the package in R, use:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>install.packages<span class="p">(</span><span class="s">&quot;eurostat&quot;</span><span class="p">)</span></code></pre></figure>

<p>The eurostat package is based on the <a href="http://cran.r-project.org/web/packages/SmarterPoland/index.html">SmarterPoland</a> package, which was revised and expanded with new functionality. The new eurostat package includes the following functions:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kn">library</span><span class="p">(</span>eurostat<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in library(eurostat): there is no package called &#39;eurostat&#39;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>knitr<span class="o">::</span>kable<span class="p">(</span><span class="kp">as.data.frame</span><span class="p">(</span><span class="kp">ls</span><span class="p">(</span><span class="s">&quot;package:eurostat&quot;</span><span class="p">)))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in as.environment(pos): no item called &quot;package:eurostat&quot; on the search list</code></pre></figure>

<p>This blog post will walk you through the basic functionalities of the package. To reproduce the examples, run the following code to install the required dependencies.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>PACKAGES <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;eurostat&quot;</span><span class="p">,</span><span class="s">&quot;ggplot2&quot;</span><span class="p">,</span><span class="s">&quot;countrycode&quot;</span><span class="p">,</span><span class="s">&quot;tidyr&quot;</span><span class="p">,</span><span class="s">&quot;dplyr&quot;</span><span class="p">,</span><span class="s">&quot;knitr&quot;</span><span class="p">)</span>
<span class="c1">#  Install packages</span>
inst <span class="o">&lt;-</span> <span class="kp">match</span><span class="p">(</span>PACKAGES<span class="p">,</span> <span class="m">.</span>packages<span class="p">(</span>all<span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span>
need <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>inst<span class="p">))</span>
<span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span>need<span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> install.packages<span class="p">(</span>PACKAGES<span class="p">[</span>need<span class="p">])</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in contrib.url(repos, type): trying to use CRAN without setting a mirror</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Load packages</span>
<span class="kp">lapply</span><span class="p">(</span>PACKAGES<span class="p">,</span> <span class="kn">require</span><span class="p">,</span> character.only<span class="o">=</span><span class="bp">T</span><span class="p">)</span></code></pre></figure>

<p>In this exercise we use indicator <a href="http://ec.europa.eu/eurostat/en/web/products-datasets/-/TGS00026"><code>tgs00026</code></a>, (<em>Disposable income of private households by NUTS 2 regions</em>) from Eurostat. Most indicators in Eurostat database are of <em>country-year</em> -type,  however, some indicators have data also at lower level of regional breakdown, as <code>tgs00026</code> at <a href="http://en.wikipedia.org/wiki/Nomenclature_of_Territorial_Units_for_Statistics">NUTS2</a>-level. (See more information on regional classification <a href="http://ec.europa.eu/eurostat/ramon/nomenclatures/index.cfm?TargetUrl=DSP_GEN_DESC_VIEW_NOHDR&amp;StrNom=NUTS_33&amp;StrLanguageCode=EN">here</a>).</p>

<h2 id="searching-and-downloading-data-from-eurostat">Searching and downloading data from Eurostat</h2>

<p>Though we have already picked the data for following demonstrations you can search the available variables using <code>search_eurostat</code>-function. Data for <em>tables</em> resides in <em>Datasets</em> that are in <em>folders</em>. You can specify in the function whether you want to look for <em>table</em>, <em>dataset</em> or a <em>folder</em>.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>results <span class="o">&lt;-</span> search_eurostat<span class="p">(</span><span class="s">&quot;disposable income&quot;</span><span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;dataset&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in search_eurostat(&quot;disposable income&quot;, type = &quot;dataset&quot;): could not find function &quot;search_eurostat&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># print the first 6 rows</span>
kable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>results<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in head(results): object &#39;results&#39; not found</code></pre></figure>

<p>Or you can also download the whole table of contents of the database with <code>get_eurostat_toc</code>-function. In both cases the <em>values</em> in column <code>code</code> should be used to download a selected dataset.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>toc <span class="o">&lt;-</span> get_eurostat_toc<span class="p">()</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in get_eurostat_toc(): could not find function &quot;get_eurostat_toc&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># print the first 6 rows</span>
kable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>toc<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in head(toc): object &#39;toc&#39; not found</code></pre></figure>

<h2 id="downloading-and-plotting-time-series-data-at-the-nuts2-regional-level">Downloading and plotting time-series data at the NUTS2 regional level</h2>

<p>However, we are interested in the disposable household income and first we download the data and convert the time column into numeric format.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kn">library</span><span class="p">(</span>eurostat<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in library(eurostat): there is no package called &#39;eurostat&#39;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Clean the cache first</span>
clean_eurostat_cache<span class="p">()</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in clean_eurostat_cache(): could not find function &quot;clean_eurostat_cache&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Download the income variable</span>
dat <span class="o">&lt;-</span> get_eurostat<span class="p">(</span><span class="s">&quot;tgs00026&quot;</span><span class="p">,</span> time_format <span class="o">=</span> <span class="s">&quot;raw&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in get_eurostat(&quot;tgs00026&quot;, time_format = &quot;raw&quot;): could not find function &quot;get_eurostat&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Extract the information on country in question. (First two character in region string mark the country)</span>
dat<span class="o">$</span>cntry <span class="o">&lt;-</span> <span class="kp">substr</span><span class="p">(</span>dat<span class="o">$</span>geo<span class="p">,</span> <span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in substr(dat$geo, 1, 2): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Create the variable for proper countrynames using countryname-package</span>
<span class="kn">library</span><span class="p">(</span>countrycode<span class="p">)</span>
dat<span class="o">$</span>countryname <span class="o">&lt;-</span> countrycode<span class="p">(</span>dat<span class="o">$</span>cntry<span class="p">,</span> <span class="s">&quot;iso2c&quot;</span><span class="p">,</span> <span class="s">&quot;country.name&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in mode(sourcevar): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># convert time column from Date to numeric</span>
dat<span class="o">$</span>time <span class="o">&lt;-</span> eurotime2num<span class="p">(</span>dat<span class="o">$</span>time<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eurotime2num(dat$time): could not find function &quot;eurotime2num&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Select only countries starting with F letter</span>
dat <span class="o">&lt;-</span> dat<span class="p">[</span><span class="kp">grepl</span><span class="p">(</span><span class="s">&quot;^C&quot;</span><span class="p">,</span> dat<span class="o">$</span>countryname<span class="p">),]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>kable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>dat<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in head(dat): object &#39;dat&#39; not found</code></pre></figure>

<p>Then we plot the data at the regional level and color the lines using country names derived from <a href="http://cran.r-project.org/web/packages/countrycode/index.html"><code>countrycode</code></a>-package.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
p <span class="o">&lt;-</span> ggplot<span class="p">(</span>dat<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>time<span class="p">,</span>y<span class="o">=</span>values<span class="p">,</span>group<span class="o">=</span>geo<span class="p">,</span>color<span class="o">=</span>countryname<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in ggplot(dat, aes(x = time, y = values, group = geo, color = countryname)): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> geom_point<span class="p">()</span> <span class="o">+</span> geom_line<span class="p">()</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Add the region names at the end of each line</span>
<span class="c1"># p &lt;- p + geom_text(data=merge(dat, aggregate(time ~ geo, dat, max), </span>
<span class="c1">#                               by=c(&quot;time&quot;,&quot;geo&quot;)), </span>
<span class="c1">#                    aes(x=time, y = values, label=geo), hjust=-0.5,vjust=-1,size=3)</span>
p <span class="o">&lt;-</span> p <span class="o">+</span> geom_label<span class="p">(</span>data<span class="o">=</span>dat <span class="o">%&gt;%</span>  group_by<span class="p">(</span>geo<span class="p">)</span> <span class="o">%&gt;%</span> na.omit<span class="p">()</span> <span class="o">%&gt;%</span> 
                     filter<span class="p">(</span>time <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="kp">min</span><span class="p">(</span>time<span class="p">),</span><span class="kp">max</span><span class="p">(</span>time<span class="p">))),</span>
                   aes<span class="p">(</span>fill<span class="o">=</span>countryname<span class="p">,</span>label<span class="o">=</span>geo<span class="p">),</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> alpha<span class="o">=</span><span class="m">.3</span><span class="p">,</span> show.legend <span class="o">=</span> <span class="bp">F</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="s">&quot;Year&quot;</span><span class="p">,</span> y<span class="o">=</span><span class="s">&quot;Disposable income of private households (€ per year)&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Place the legend with country names on top in three rows</span>
p <span class="o">&lt;-</span> p <span class="o">+</span> theme<span class="p">(</span>legend.position <span class="o">=</span> <span class="s">&quot;top&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> guides<span class="p">(</span>color <span class="o">=</span> guide_legend<span class="p">(</span>title <span class="o">=</span> <span class="s">&quot;Country&quot;</span><span class="p">,</span>
                                     title.position <span class="o">=</span> <span class="s">&quot;top&quot;</span><span class="p">,</span> 
                                     title.hjust<span class="o">=</span><span class="m">.5</span><span class="p">,</span>
                                     nrow<span class="o">=</span><span class="m">1</span><span class="p">,</span>
                                     byrow<span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p</code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<h3 id="labelling-the-data">Labelling the data</h3>

<p>Function <code>label_eurostat</code> provides a straighforward way to convert the codes in data into more meaningful labels. The <code>label_eurostat</code> function requires that the data is in the “default format” with no added columns. First, check unlabeled example data:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># First, remove the cntry and countrycode columns that were added manually</span>
cntry_cols <span class="o">&lt;-</span> dat<span class="p">[</span> <span class="p">,</span> <span class="kp">names</span><span class="p">(</span>dat<span class="p">)</span> <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;cntry&quot;</span><span class="p">,</span><span class="s">&quot;countryname&quot;</span><span class="p">)]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>dat <span class="o">&lt;-</span> dat<span class="p">[</span> <span class="p">,</span> <span class="o">!</span><span class="kp">names</span><span class="p">(</span>dat<span class="p">)</span> <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;cntry&quot;</span><span class="p">,</span><span class="s">&quot;countryname&quot;</span><span class="p">)]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;dat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Unlabeled data</span>
kable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>dat<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in head(dat): object &#39;dat&#39; not found</code></pre></figure>

<p>Labeling the data based on definitions from dictionary:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># apply the definitions from dictionary</span>
datl <span class="o">&lt;-</span> label_eurostat<span class="p">(</span>dat<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in label_eurostat(dat): could not find function &quot;label_eurostat&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Labeled data</span>
kable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>datl<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in head(datl): object &#39;datl&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># Bind the country name columns back to the labelled data </span>
datl2 <span class="o">&lt;-</span> <span class="kp">cbind</span><span class="p">(</span>datl<span class="p">,</span>cntry_cols<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in cbind(datl, cntry_cols): object &#39;datl&#39; not found</code></pre></figure>

<p>For clarity, we plot first four countries in alphabetical order in their own facets with region names.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># subset the first 4 countries in albhabetical order</span>
datl3 <span class="o">&lt;-</span> datl2<span class="p">[</span>datl2<span class="o">$</span>countryname <span class="o">%in%</span> <span class="kp">sort</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span>datl2<span class="o">$</span>countryname<span class="p">))[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">],]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;datl2&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># plot the data using country facets</span>
<span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
p <span class="o">&lt;-</span> ggplot<span class="p">(</span>datl3<span class="p">,</span>aes<span class="p">(</span>x<span class="o">=</span>time<span class="p">,</span>y<span class="o">=</span>values<span class="p">,</span>group<span class="o">=</span>geo<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in ggplot(datl3, aes(x = time, y = values, group = geo)): object &#39;datl3&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> geom_point<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;grey&quot;</span><span class="p">)</span> <span class="o">+</span> geom_line<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;grey&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> ggrepel<span class="o">::</span>geom_text_repel<span class="p">(</span>data<span class="o">=</span><span class="kp">merge</span><span class="p">(</span>datl3<span class="p">,</span> aggregate<span class="p">(</span>time <span class="o">~</span> geo<span class="p">,</span> datl3<span class="p">,</span> <span class="kp">max</span><span class="p">),</span> 
                              by<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;time&quot;</span><span class="p">,</span><span class="s">&quot;geo&quot;</span><span class="p">)),</span> 
                   aes<span class="p">(</span>x<span class="o">=</span>time<span class="p">,</span> y <span class="o">=</span> values<span class="p">,</span> label<span class="o">=</span>geo<span class="p">),</span> nudge_y<span class="o">=</span><span class="m">1</span><span class="p">,</span>size<span class="o">=</span><span class="m">3</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> coord_cartesian<span class="p">(</span>xlim<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="kp">min</span><span class="p">(</span>datl2<span class="o">$</span>time<span class="p">)</span><span class="o">:</span><span class="kp">max</span><span class="p">(</span>datl2<span class="o">$</span>time<span class="p">)</span><span class="m">+3</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> facet_wrap<span class="p">(</span><span class="o">~</span>countryname<span class="p">,</span> scales <span class="o">=</span> <span class="s">&quot;free&quot;</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">1</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> labs<span class="p">(</span>title<span class="o">=</span><span class="kp">paste0</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span>datl3<span class="o">$</span>indic_na<span class="p">),</span><span class="s">&quot;\n(&quot;</span><span class="p">,</span><span class="kp">unique</span><span class="p">(</span>datl3<span class="o">$</span>unit<span class="p">),</span><span class="s">&quot;)&quot;</span><span class="p">),</span>
                x<span class="o">=</span><span class="s">&quot;Year&quot;</span><span class="p">,</span>y<span class="o">=</span><span class="s">&quot;Disposable income of private households (€ per year)&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p</code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<h2 id="mapping-the-household-incomes-at-nuts2-level">Mapping the household incomes at NUTS2 level</h2>

<p>In the following exercise we are plotting household income data from Eurostat on map from three different years. In addition to downloading and manipulating data from EUROSTAT, we will demonstrate how to access and use shapefiles of Europe published by EUROSTAT at <a href="http://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units">Administrative units / Statistical units</a>.</p>

<p>For this exercise you need few more dependencies that can be installed running the following script.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>PACKAGES <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;rgdal&quot;</span><span class="p">,</span><span class="s">&quot;maptools&quot;</span><span class="p">,</span><span class="s">&quot;rgeos&quot;</span><span class="p">,</span><span class="s">&quot;stringr&quot;</span><span class="p">,</span><span class="s">&quot;scales&quot;</span><span class="p">,</span><span class="s">&quot;grid&quot;</span><span class="p">)</span>
<span class="c1">#  Install packages</span>
inst <span class="o">&lt;-</span> <span class="kp">match</span><span class="p">(</span>PACKAGES<span class="p">,</span> <span class="m">.</span>packages<span class="p">(</span>all<span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span>
need <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>inst<span class="p">))</span>
<span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span>need<span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> install.packages<span class="p">(</span>PACKAGES<span class="p">[</span>need<span class="p">])</span>
<span class="c1"># Load packages</span>
<span class="kp">lapply</span><span class="p">(</span>PACKAGES<span class="p">,</span> <span class="kn">require</span><span class="p">,</span> character.only<span class="o">=</span><span class="bp">T</span><span class="p">)</span></code></pre></figure>

<h3 id="downloading-and-manipulating-the-tabular-data">Downloading and manipulating the tabular data</h3>

<p>First, we shall retrieve the nuts2-level figures of variable <code>tgs00026</code> (Disposable income of private households by NUTS 2 regions) and filter out only the year 2011.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kn">library</span><span class="p">(</span>eurostat<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in library(eurostat): there is no package called &#39;eurostat&#39;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>df <span class="o">&lt;-</span> get_eurostat<span class="p">(</span><span class="s">&quot;tgs00026&quot;</span><span class="p">,</span> time_format <span class="o">=</span> <span class="s">&quot;raw&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in get_eurostat(&quot;tgs00026&quot;, time_format = &quot;raw&quot;): could not find function &quot;get_eurostat&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># convert time column from Date to numeric</span>
df<span class="o">$</span>time <span class="o">&lt;-</span> eurotime2num<span class="p">(</span>df<span class="o">$</span>time<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eurotime2num(df$time): could not find function &quot;eurotime2num&quot;</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="c1"># subset time to have data for 2011</span>
df <span class="o">&lt;-</span> df<span class="p">[</span>df<span class="o">$</span>time<span class="o">==</span> <span class="m">2011</span><span class="p">,]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in df$time: object of type &#39;closure&#39; is not subsettable</code></pre></figure>

<p>Second, we use <code>cut_to_classes</code>-function to classify our numeric <code>values</code> for the choropleth map.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>df<span class="o">$</span>value_cat <span class="o">&lt;-</span> cut_to_classes<span class="p">(</span>df<span class="o">$</span>values<span class="p">,</span> n <span class="o">=</span> <span class="m">5</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in cut_to_classes(df$values, n = 5): could not find function &quot;cut_to_classes&quot;</code></pre></figure>

<p>Third, we use <code>merge_eurostat_geospatial</code>-function to download the shapefile at 1:60 million resolution from year 2010 and merge it with our Eurostat attribute data.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>map.df <span class="o">&lt;-</span> merge_eurostat_geodata<span class="p">(</span>data <span class="o">=</span> df<span class="p">,</span> geocolumn <span class="o">=</span> <span class="s">&quot;geo&quot;</span><span class="p">,</span> resolution <span class="o">=</span> <span class="s">&quot;60&quot;</span><span class="p">,</span> all_regions <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> output_class <span class="o">=</span> <span class="s">&quot;df&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in merge_eurostat_geodata(data = df, geocolumn = &quot;geo&quot;, resolution = &quot;60&quot;, : could not find function &quot;merge_eurostat_geodata&quot;</code></pre></figure>

<h3 id="plotting-the-maps-using-ggplot2">Plotting the maps using ggplot2</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>scales<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>grid<span class="p">)</span>

<span class="c1"># Loop over the three years</span>
p <span class="o">&lt;-</span> ggplot<span class="p">(</span>data<span class="o">=</span>map.df<span class="p">,</span> aes<span class="p">(</span>long<span class="p">,</span>lat<span class="p">,</span>group<span class="o">=</span>group<span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in ggplot(data = map.df, aes(long, lat, group = group)): object &#39;map.df&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> geom_polygon<span class="p">(</span>data <span class="o">=</span> map.df<span class="p">,</span> aes<span class="p">(</span>long<span class="p">,</span>lat<span class="p">),</span>fill<span class="o">=</span><span class="kc">NA</span><span class="p">,</span>colour<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span>size <span class="o">=</span> <span class="m">1</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> geom_polygon<span class="p">(</span>aes<span class="p">(</span>fill <span class="o">=</span> value_cat<span class="p">),</span>colour<span class="o">=</span><span class="s">&quot;dim grey&quot;</span><span class="p">,</span>size<span class="o">=</span><span class="m">.2</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> scale_fill_manual<span class="p">(</span>values<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;#d7191c&quot;</span><span class="p">,</span><span class="s">&quot;#fdae61&quot;</span><span class="p">,</span><span class="s">&quot;#ffffbf&quot;</span><span class="p">,</span><span class="s">&quot;#a6d96a&quot;</span><span class="p">,</span><span class="s">&quot;#1a9641&quot;</span><span class="p">))</span> </code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> coord_map<span class="p">(</span>project<span class="o">=</span><span class="s">&quot;orthographic&quot;</span><span class="p">,</span> xlim<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">-22</span><span class="p">,</span><span class="m">34</span><span class="p">),</span> ylim<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">35</span><span class="p">,</span><span class="m">70</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span>  theme<span class="p">(</span>legend.position <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span><span class="m">0.40</span><span class="p">),</span> 
                        legend.justification<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">),</span>
                        legend.key.size<span class="o">=</span>unit<span class="p">(</span><span class="m">6</span><span class="p">,</span><span class="s">&#39;mm&#39;</span><span class="p">),</span>
                        legend.direction <span class="o">=</span> <span class="s">&quot;vertical&quot;</span><span class="p">,</span>
                        legend.background<span class="o">=</span>element_rect<span class="p">(</span>colour<span class="o">=</span><span class="kc">NA</span><span class="p">,</span> fill<span class="o">=</span>alpha<span class="p">(</span><span class="s">&quot;white&quot;</span><span class="p">,</span> <span class="m">2</span><span class="o">/</span><span class="m">3</span><span class="p">)),</span>
                        legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">12</span><span class="p">),</span> 
                        legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">12</span><span class="p">),</span> 
                        title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">16</span><span class="p">),</span> 
                        panel.background <span class="o">=</span> element_blank<span class="p">(),</span> 
                        plot.background <span class="o">=</span> element_blank<span class="p">(),</span>
                        panel.grid.minor <span class="o">=</span> element_line<span class="p">(</span>colour <span class="o">=</span> <span class="s">&#39;Grey80&#39;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">.5</span><span class="p">,</span> linetype <span class="o">=</span> <span class="s">&#39;solid&#39;</span><span class="p">),</span>
                        panel.grid.major <span class="o">=</span> element_line<span class="p">(</span>colour <span class="o">=</span> <span class="s">&#39;Grey80&#39;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">.5</span><span class="p">,</span> linetype <span class="o">=</span> <span class="s">&#39;solid&#39;</span><span class="p">),</span>
                        axis.text <span class="o">=</span> element_blank<span class="p">(),</span> 
                        axis.title <span class="o">=</span> element_blank<span class="p">(),</span> 
                        axis.ticks <span class="o">=</span> element_blank<span class="p">(),</span> 
                        plot.margin <span class="o">=</span> unit<span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">-3</span><span class="p">,</span><span class="m">-1.5</span><span class="p">,</span> <span class="m">-3</span><span class="p">,</span> <span class="m">-1.5</span><span class="p">),</span> <span class="s">&quot;cm&quot;</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> guides<span class="p">(</span>fill <span class="o">=</span> guide_legend<span class="p">(</span>title <span class="o">=</span> <span class="s">&quot;€ per Year&quot;</span><span class="p">,</span>
                                   title.position <span class="o">=</span> <span class="s">&quot;top&quot;</span><span class="p">,</span> 
                                   title.hjust<span class="o">=</span><span class="m">0</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>p <span class="o">&lt;-</span> p <span class="o">+</span> labs<span class="p">(</span>title <span class="o">=</span> <span class="s">&quot;Disposable household incomes in  2011&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in eval(expr, envir, enclos): object &#39;p&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="kp">print</span><span class="p">(</span>p<span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in print(p): object &#39;p&#39; not found</code></pre></figure>

<p>We are done! That was a small exercise on how to use the main functions in the <code>eurostat</code>-package. We hope you find the package useful! All suggestions, bug reports, and contributions are warmly welcome at: <a href="https://github.com/ropengov/eurostat">https://github.com/ropengov/eurostat</a>. When using the packages, please cite accordingly:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>citation<span class="p">(</span><span class="s">&quot;eurostat&quot;</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## Error in citation(&quot;eurostat&quot;): package &#39;eurostat&#39; not found</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span>sessionInfo<span class="p">()</span> </code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>## R version 3.5.1 (2018-07-02)
## Platform: x86_64-suse-linux-gnu (64-bit)
## Running under: openSUSE Tumbleweed
## 
## Matrix products: default
## BLAS: /usr/lib64/R/lib/libRblas.so
## LAPACK: /usr/lib64/R/lib/libRlapack.so
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=C                  LC_COLLATE=fi_FI.UTF-8    
##  [5] LC_MONETARY=fi_FI.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=fi_FI.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] grid      stats     graphics  grDevices utils     datasets  methods  
## [8] base     
## 
## other attached packages:
##  [1] scales_1.0.0      rgeos_0.4-2       maptools_0.9-4   
##  [4] rgdal_1.3-6       sp_1.3-1          dplyr_0.7.8      
##  [7] tidyr_0.8.2       countrycode_1.1.0 ggplot2_3.1.0    
## [10] stringr_1.3.1     reshape2_1.4.3    knitr_1.20       
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.0       bindr_0.1.1      magrittr_1.5     tidyselect_0.2.5
##  [5] munsell_0.5.0    lattice_0.20-35  colorspace_1.3-2 R6_2.3.0        
##  [9] rlang_0.3.0.1    plyr_1.8.4       tools_3.5.1      gtable_0.2.0    
## [13] withr_2.1.2      lazyeval_0.2.1   assertthat_0.2.0 tibble_1.4.2    
## [17] crayon_1.3.4     bindrcpp_0.2.2   purrr_0.2.5      glue_1.3.0      
## [21] evaluate_0.12    stringi_1.2.4    compiler_3.5.1   pillar_1.3.0    
## [25] foreign_0.8-70   pkgconfig_2.0.2</code></pre></figure>


            
<div class="social">
    <div>
        <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Searching, downloading and manipulating Eurostat data with R" data-related="ropengov">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    <div>
        <div class="g-plusone" data-size="medium"></div>
    </div>
    
    
    
    <div>
        <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
    </div>
    
</div>

        </section>

        <footer>
            <address>
               <img src="/images/markus.jpg">
                <p>Written by <strong><a rel="author" href="https://twitter.com/" title="" target="_blank">Markus Kainu</a></strong><br>
                <span class="muted"></span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ropengov'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
        </section>
        
    </div>
</article>

<footer class="site-footer">
    <div class="container">
        &copy; 2018

        <nav>
            <a href="ropengov.github.io">rOpenGov</a> &middot;
            <a href="/">Blog</a> &middot;
            
            
        </nav>

        <nav class="social">
            
            <a href="https://twitter.com/ropengov" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
        <p>Check also <a href="http://www.r-bloggers.com">R-bloggers.com</a></p>
    </div>
</footer>

<!-- moved inside header 5.11.2014 - Juuso
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44262937-1', 'http://ropengov.github.io');
  ga('send', 'pageview');
</script>


-->

</body>
</html>
