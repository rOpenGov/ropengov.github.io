<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">

        <channel>
		<title>rOpenGov - all posts</title>
		<description>All rOpenGov posts</description>
		<link>http://ropengov.github.io</link>
		<atom:link href="http://ropengov.github.io/feed.xml" rel="self" type="application/rss+xml" />
		<language>en-us</language>
		<pubDate>Wed, 05 Dec 2018 16:10:03 +0000</pubDate>
		<lastBuildDate>Wed, 05 Dec 2018 16:10:03 +0000</lastBuildDate>		
		
		
			<item>
				<title></title>
				
					<description></description>
				
				<pubDate>Wed, 05 Dec 2018 16:10:03 +0000</pubDate>
				<link>http://ropengov.github.io/2018/12/05/2016-04-23-Shakespeare/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/2018/12/05/2016-04-23-Shakespeare/</guid>
			</item>
		
		
		
			<item>
				<title>Cost of academic publishing in Finland 2010-2017</title>
				
					<description>&lt;h2 id=&quot;subscription-costs-to-scientific-publishers-in-finland-2010-2017&quot;&gt;Subscription costs to scientific publishers in Finland 2010-2017&lt;/h2&gt;

&lt;p&gt;This post provides a brief overview of the subscription prices paid by Finnish research institutions to academic publishers in 2010-2017.&lt;/p&gt;

&lt;p&gt;Finland is possibly the only country that has systematically released subscription prices that research libraries pay to academic publishers &lt;a href=&quot;https://avointiede.fi/fi/avoimet-julkaisut/kustantajahintatietoja&quot;&gt;as open data&lt;/a&gt;. The data is available for all major research institutions in Finland. Recently, an updated data set for 2010–2017 was made openly available at &lt;a href=&quot;https://avointiede.fi/fi/avoimet-julkaisut/kustantajahintatietoja&quot;&gt;avointiede.fi&lt;/a&gt;. In addition, &lt;a href=&quot;https://www.kansalliskirjasto.fi/extra/finelib_julkinen/&quot;&gt;full text agreements&lt;/a&gt; with many publishers have been &lt;a href=&quot;http://finelib.fi/negotiations/agreements/&quot;&gt;made available&lt;/a&gt;. The subscription price data was initially provided by Finnish Ministry of Education and Culture, and its Open Science and Research Initiative funded 2014–2017, after a successful Freedom of Information request by the Finnish Open Science community, as summarized &lt;a href=&quot;https://www.mostlyphysics.net/blog/2016/6/13/finland-takes-leading-role-in-the-openness-of-academic-journal-pricing&quot;&gt;elsewhere&lt;/a&gt;. This post updates our &lt;a href=&quot;http://ropengov.github.io/r/2016/06/10/FOI/&quot;&gt;earlier analysis&lt;/a&gt;. For source code, see &lt;a href=&quot;https://github.com/rOpenGov/Finland-Subscription-Costs&quot;&gt;main.R&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;overall-subscription-costs-2010-2017&quot;&gt;Overall subscription costs 2010-2017&lt;/h2&gt;

&lt;p&gt;Based on the data collected by the Ministry of Education, Finland paid in total
198.7 million EUR subscription and other
fees on scientific publishing in 2010-2017. The average annual costs for in Finland were 25 MEUR.&lt;/p&gt;

&lt;p&gt;Data for the top-10 publishers in the UK 2010-2014 is available in &lt;a href=&quot;https://olh.openlibhums.org/articles/10.16995/olh.72/#B45&quot;&gt;Lawson, Meghreblian &amp;amp; Brook, 2017&lt;/a&gt; (&lt;a href=&quot;https://olh.openlibhums.org/articles/10.16995/olh.72&quot;&gt;Table 1&lt;/a&gt;). During this period the UK paid altogether 4319 MEUR (rough estimate based on the exchange rate June 12, 2016) for the top-10 publishers. Finland paid 62 MEUR for the same top-10 publishers in 2010-2014. This is  17.1% of the UK expenditure &lt;em&gt;per capita&lt;/em&gt;. It could be that the data is not directly comparable but this will require further investigation.&lt;/p&gt;

&lt;p&gt;Information for Finland is available by agreement type, organization
type, and subscription category.&lt;/p&gt;

&lt;h3 id=&quot;costs-by-publisher&quot;&gt;Costs by publisher&lt;/h3&gt;

&lt;p&gt;Overall, the Finnish data covers 376 unique publishers. The figure indicates the total subscription fees paid to the top publishers 2010-2017. One third of the total costs go to Elsevier, which has been often &lt;a href=&quot;https://gowers.wordpress.com/2014/04/24/elsevier-journals-some-facts/&quot;&gt;criticized&lt;/a&gt; for its huge &lt;a href=&quot;http://journals.plos.org/plosone/article?id=10.1371%2Fjournal.pone.0127502&quot;&gt;profit margins&lt;/a&gt;. The costs are given per bundle, so we cannot compare average journal prices among individual publishers based on this data.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2b-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The total costs paid to scientific publishers by Finland have increased roughly 10% per year in 2010-2017 (annual increase is indicated in the left figure). The top-10 publishers correspond to 75% of the overall costs (right figure).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-costbytime-1.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;860px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Let us compare the relative increase in publisher costs. The costs are normalized to 1 in 2010, and the top 10 publishers with the highest cost increase in 2010-2017 are shown. The 275 publishers that did not have declared costs in 2010 or 2017 are excluded.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-timebypublisher2b-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;costs-by-organization&quot;&gt;Costs by organization&lt;/h3&gt;

&lt;p&gt;The Finnish data collection includes 82 organizations. The universities (‘yliopisto’) are responsible of 78.9% of all costs (left figure); University of Helsinki had the highest total costs in 2010-2017 (37.9 MEUR; top institutions shown in the right figure).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2d-1.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;420px&quot; /&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2d-2.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;420px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Finally, let us compare the relative share of costs per
institution. The top organizations with the highest total costs are
shown.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-timebyorganization2c-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;
</description>
				
				<pubDate>Wed, 05 Dec 2018 12:53:45 +0000</pubDate>
				<link>http://ropengov.github.io/r/2018/12/05/FOI/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2018/12/05/FOI/</guid>
			</item>
		
		
		
			<item>
				<title>Presenting at useR2017 in Brussels</title>
				
					<description>&lt;p&gt;Annual &lt;a href=&quot;https://user2017.brussels/&quot;&gt;useR&lt;/a&gt;-conference is organised this year in Brussels, Belgium. rOpenGov will be presenting in two occasion on Thursday 6th. Leo Lahti will give an general overview of rOpenGov in his lightning talk &lt;a href=&quot;https://github.com/rOpenGov/slides/raw/master/20170706-UseR-Bru/2017-useR-rOpenGov.pdf&quot;&gt;rOpenGov - Community project for open government data&lt;/a&gt; at 17.50 in room 3.02. At 13.30 in Plenary room Markus Kainu will speak about &lt;a href=&quot;http://software.markuskainu.fi/ropengov/user2017_slides/slides.pdf&quot;&gt;Community-based learning and knowledge sharing - Teaching R withing organisation using edu -package&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ropengov.github.io/images/ropengov_user2017.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Last minute preparation with critical comments from Joona Lehtomäki&lt;/strong&gt;&lt;/p&gt;
</description>
				
				<pubDate>Wed, 05 Jul 2017 12:53:45 +0000</pubDate>
				<link>http://ropengov.github.io/r/2017/07/05/user-2017/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2017/07/05/user-2017/</guid>
			</item>
		
		
		
			<item>
				<title>eurostat package published in R Journal</title>
				
					<description>&lt;p&gt;A formal publication on the &lt;code&gt;eurostat&lt;/code&gt; &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;CRAN&lt;/a&gt; R package has now appeared on-line in &lt;a href=&quot;https://journal.r-project.org/archive/2017/RJ-2017-019/index.html&quot;&gt;R Journal&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Further details on installation and use are provided at the &lt;a href=&quot;http://ropengov.github.io/eurostat&quot;&gt;package homepage&lt;/a&gt;, &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/eurostat_tutorial.html&quot;&gt;tutorial&lt;/a&gt; and &lt;a href=&quot;https://github.com/rstudio/cheatsheets/raw/master/source/pdfs/eurostat_cheatsheet.pdf&quot;&gt;cheat sheet&lt;/a&gt;. &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/blogposts.html&quot;&gt;Blog posts&lt;/a&gt; provide further and more advanced examples on the package use.&lt;/p&gt;

&lt;p&gt;We are also collecting information about publications using the eurostat R package, suggestions are &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/publications.html&quot;&gt;welcome&lt;/a&gt;.&lt;/p&gt;

</description>
				
				<pubDate>Fri, 14 Apr 2017 12:53:45 +0000</pubDate>
				<link>http://ropengov.github.io/r/2017/04/14/eurostat-preprint/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2017/04/14/eurostat-preprint/</guid>
			</item>
		
		
		
			<item>
				<title>Scientific journal subscription costs in Finland 2010-2015: a preliminary analysis</title>
				
					<description>Freedom of Information</description>
				
				<pubDate>Fri, 10 Jun 2016 18:00:00 +0000</pubDate>
				<link>http://ropengov.github.io/r/2016/06/10/FOI/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2016/06/10/FOI/</guid>
			</item>
		
		
		
		
		
			<item>
				<title>R made personal (at least for swedes)!</title>
				
					<description>About the package 'sweidnumbr'</description>
				
				<pubDate>Thu, 20 Aug 2015 11:00:00 +0000</pubDate>
				<link>http://ropengov.github.io/r/2015/08/20/sweidnumber/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2015/08/20/sweidnumber/</guid>
			</item>
		
		
		
			<item>
				<title>Digital humanities with R</title>
				
					<description>Paris Digital Humanities Workshop</description>
				
				<pubDate>Fri, 12 Jun 2015 12:00:00 +0000</pubDate>
				<link>http://ropengov.github.io/r/2015/06/12/Paris/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2015/06/12/Paris/</guid>
			</item>
		
		
		
			<item>
				<title>A hierarchical model of Finnish apartment prices</title>
				
					<description>Probabilistic programming approach to understand regional trends in apartment prices in Finland</description>
				
				<pubDate>Thu, 11 Jun 2015 00:00:00 +0000</pubDate>
				<link>http://ropengov.github.io/r/2015/06/11/apartment-prices/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/2015/06/11/apartment-prices/</guid>
			</item>
		
		
		
			<item>
				<title>Reproducible posters with R, LaTeX, tikz and Sweave</title>
				
					<description>International Conference on Computational Social Science (ICCSS 2015)</description>
				
				<pubDate>Sun, 07 Jun 2015 12:00:00 +0000</pubDate>
				<link>http://ropengov.github.io/r/poster/latex/sweave/tikz/2015/06/07/ICCSS/</link>
				<author></author>
				<guid isPermaLink="true">http://ropengov.github.io/r/poster/latex/sweave/tikz/2015/06/07/ICCSS/</guid>
			</item>
		
		
	</channel>

  <channel>
    <title>rOpenGov - All posts</title>
    <link>http://ropengov.github.io</link>
    <atom:link href="http://ropengov.github.io/feed.xml" rel="self" type="application/rss+xml" />
    <description>Algorithms for Computational Social Science and Digital Humanities</description>
    <language>en-us</language>
    <pubDate>Wed, 05 Dec 2018 16:10:03 +0000</pubDate>
    <lastBuildDate>Wed, 05 Dec 2018 16:10:03 +0000</lastBuildDate>

    
    
    <item>
      <title></title>
      <link>http://ropengov.github.io/2018/12/05/2016-04-23-Shakespeare/</link>
      <pubDate>Wed, 05 Dec 2018 16:10:03 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/2018/12/05/2016-04-23-Shakespeare</guid>
      <description>
&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in readChar(con, 5L, useBytes = TRUE): cannot open the connection&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(bibliographica): there is no package called &amp;#39;bibliographica&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(sorvi): there is no package called &amp;#39;sorvi&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
    </item>
    
    
    
    <item>
      <title>Cost of academic publishing in Finland 2010-2017</title>
      <link>http://ropengov.github.io/r/2018/12/05/FOI/</link>
      <pubDate>Wed, 05 Dec 2018 12:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2018/12/05/FOI</guid>
      <description>&lt;h2 id=&quot;subscription-costs-to-scientific-publishers-in-finland-2010-2017&quot;&gt;Subscription costs to scientific publishers in Finland 2010-2017&lt;/h2&gt;

&lt;p&gt;This post provides a brief overview of the subscription prices paid by Finnish research institutions to academic publishers in 2010-2017.&lt;/p&gt;

&lt;p&gt;Finland is possibly the only country that has systematically released subscription prices that research libraries pay to academic publishers &lt;a href=&quot;https://avointiede.fi/fi/avoimet-julkaisut/kustantajahintatietoja&quot;&gt;as open data&lt;/a&gt;. The data is available for all major research institutions in Finland. Recently, an updated data set for 2010–2017 was made openly available at &lt;a href=&quot;https://avointiede.fi/fi/avoimet-julkaisut/kustantajahintatietoja&quot;&gt;avointiede.fi&lt;/a&gt;. In addition, &lt;a href=&quot;https://www.kansalliskirjasto.fi/extra/finelib_julkinen/&quot;&gt;full text agreements&lt;/a&gt; with many publishers have been &lt;a href=&quot;http://finelib.fi/negotiations/agreements/&quot;&gt;made available&lt;/a&gt;. The subscription price data was initially provided by Finnish Ministry of Education and Culture, and its Open Science and Research Initiative funded 2014–2017, after a successful Freedom of Information request by the Finnish Open Science community, as summarized &lt;a href=&quot;https://www.mostlyphysics.net/blog/2016/6/13/finland-takes-leading-role-in-the-openness-of-academic-journal-pricing&quot;&gt;elsewhere&lt;/a&gt;. This post updates our &lt;a href=&quot;http://ropengov.github.io/r/2016/06/10/FOI/&quot;&gt;earlier analysis&lt;/a&gt;. For source code, see &lt;a href=&quot;https://github.com/rOpenGov/Finland-Subscription-Costs&quot;&gt;main.R&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;overall-subscription-costs-2010-2017&quot;&gt;Overall subscription costs 2010-2017&lt;/h2&gt;

&lt;p&gt;Based on the data collected by the Ministry of Education, Finland paid in total
198.7 million EUR subscription and other
fees on scientific publishing in 2010-2017. The average annual costs for in Finland were 25 MEUR.&lt;/p&gt;

&lt;p&gt;Data for the top-10 publishers in the UK 2010-2014 is available in &lt;a href=&quot;https://olh.openlibhums.org/articles/10.16995/olh.72/#B45&quot;&gt;Lawson, Meghreblian &amp;amp; Brook, 2017&lt;/a&gt; (&lt;a href=&quot;https://olh.openlibhums.org/articles/10.16995/olh.72&quot;&gt;Table 1&lt;/a&gt;). During this period the UK paid altogether 4319 MEUR (rough estimate based on the exchange rate June 12, 2016) for the top-10 publishers. Finland paid 62 MEUR for the same top-10 publishers in 2010-2014. This is  17.1% of the UK expenditure &lt;em&gt;per capita&lt;/em&gt;. It could be that the data is not directly comparable but this will require further investigation.&lt;/p&gt;

&lt;p&gt;Information for Finland is available by agreement type, organization
type, and subscription category.&lt;/p&gt;

&lt;h3 id=&quot;costs-by-publisher&quot;&gt;Costs by publisher&lt;/h3&gt;

&lt;p&gt;Overall, the Finnish data covers 376 unique publishers. The figure indicates the total subscription fees paid to the top publishers 2010-2017. One third of the total costs go to Elsevier, which has been often &lt;a href=&quot;https://gowers.wordpress.com/2014/04/24/elsevier-journals-some-facts/&quot;&gt;criticized&lt;/a&gt; for its huge &lt;a href=&quot;http://journals.plos.org/plosone/article?id=10.1371%2Fjournal.pone.0127502&quot;&gt;profit margins&lt;/a&gt;. The costs are given per bundle, so we cannot compare average journal prices among individual publishers based on this data.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2b-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The total costs paid to scientific publishers by Finland have increased roughly 10% per year in 2010-2017 (annual increase is indicated in the left figure). The top-10 publishers correspond to 75% of the overall costs (right figure).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-costbytime-1.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;860px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Let us compare the relative increase in publisher costs. The costs are normalized to 1 in 2010, and the top 10 publishers with the highest cost increase in 2010-2017 are shown. The 275 publishers that did not have declared costs in 2010 or 2017 are excluded.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-timebypublisher2b-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;costs-by-organization&quot;&gt;Costs by organization&lt;/h3&gt;

&lt;p&gt;The Finnish data collection includes 82 organizations. The universities (‘yliopisto’) are responsible of 78.9% of all costs (left figure); University of Helsinki had the highest total costs in 2010-2017 (37.9 MEUR; top institutions shown in the right figure).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2d-1.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;420px&quot; /&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-totalcosts2d-2.png&quot; title=&quot;center&quot; alt=&quot;center&quot; width=&quot;420px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Finally, let us compare the relative share of costs per
institution. The top organizations with the highest total costs are
shown.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2018-12-05-FOI/foi-timebyorganization2c-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Presenting at useR2017 in Brussels</title>
      <link>http://ropengov.github.io/r/2017/07/05/user-2017/</link>
      <pubDate>Wed, 05 Jul 2017 12:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2017/07/05/user-2017</guid>
      <description>&lt;p&gt;Annual &lt;a href=&quot;https://user2017.brussels/&quot;&gt;useR&lt;/a&gt;-conference is organised this year in Brussels, Belgium. rOpenGov will be presenting in two occasion on Thursday 6th. Leo Lahti will give an general overview of rOpenGov in his lightning talk &lt;a href=&quot;https://github.com/rOpenGov/slides/raw/master/20170706-UseR-Bru/2017-useR-rOpenGov.pdf&quot;&gt;rOpenGov - Community project for open government data&lt;/a&gt; at 17.50 in room 3.02. At 13.30 in Plenary room Markus Kainu will speak about &lt;a href=&quot;http://software.markuskainu.fi/ropengov/user2017_slides/slides.pdf&quot;&gt;Community-based learning and knowledge sharing - Teaching R withing organisation using edu -package&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ropengov.github.io/images/ropengov_user2017.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Last minute preparation with critical comments from Joona Lehtomäki&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>eurostat package published in R Journal</title>
      <link>http://ropengov.github.io/r/2017/04/14/eurostat-preprint/</link>
      <pubDate>Fri, 14 Apr 2017 12:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2017/04/14/eurostat-preprint</guid>
      <description>&lt;p&gt;A formal publication on the &lt;code&gt;eurostat&lt;/code&gt; &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;CRAN&lt;/a&gt; R package has now appeared on-line in &lt;a href=&quot;https://journal.r-project.org/archive/2017/RJ-2017-019/index.html&quot;&gt;R Journal&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Further details on installation and use are provided at the &lt;a href=&quot;http://ropengov.github.io/eurostat&quot;&gt;package homepage&lt;/a&gt;, &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/eurostat_tutorial.html&quot;&gt;tutorial&lt;/a&gt; and &lt;a href=&quot;https://github.com/rstudio/cheatsheets/raw/master/source/pdfs/eurostat_cheatsheet.pdf&quot;&gt;cheat sheet&lt;/a&gt;. &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/blogposts.html&quot;&gt;Blog posts&lt;/a&gt; provide further and more advanced examples on the package use.&lt;/p&gt;

&lt;p&gt;We are also collecting information about publications using the eurostat R package, suggestions are &lt;a href=&quot;http://ropengov.github.io/eurostat/articles/publications.html&quot;&gt;welcome&lt;/a&gt;.&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>Scientific journal subscription costs in Finland 2010-2015: a preliminary analysis</title>
      <link>http://ropengov.github.io/r/2016/06/10/FOI/</link>
      <pubDate>Fri, 10 Jun 2016 18:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2016/06/10/FOI</guid>
      <description>
&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Warning in file(file, &amp;quot;rt&amp;quot;, encoding = fileEncoding): cannot open file
## &amp;#39;Publisher_Costs_FI_Full_Data.csv&amp;#39;: No such file or directory&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in file(file, &amp;quot;rt&amp;quot;, encoding = fileEncoding): cannot open the connection&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in UseMethod(&amp;quot;rename_&amp;quot;): no applicable method for &amp;#39;rename_&amp;#39; applied to an object of class &amp;quot;function&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in UseMethod(&amp;quot;rename_&amp;quot;): no applicable method for &amp;#39;rename_&amp;#39; applied to an object of class &amp;quot;function&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
    </item>
    
    
    
    
    
    <item>
      <title>R made personal (at least for swedes)!</title>
      <link>http://ropengov.github.io/r/2015/08/20/sweidnumber/</link>
      <pubDate>Thu, 20 Aug 2015 11:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2015/08/20/sweidnumber</guid>
      <description>&lt;h3 id=&quot;background&quot;&gt;Background&lt;/h3&gt;

&lt;p&gt;– Who are you? asked Mr Doe.&lt;/p&gt;

&lt;p&gt;– I’m a Hindu! Namrata from India replied.&lt;/p&gt;

&lt;p&gt;– I’m a statistician! said Günther from Germany.&lt;/p&gt;

&lt;p&gt;People of different nationalities tend to identify themselves using different characteristics. In India, your identity might rely on your religion, while in other countries your profession might take its place. In Sweden, you might identify yourself with your almost-world-known (!?) personal identification number (“pin”). This 10 digit number is given to you almost immediately after birth and it often stays with you until your very last breath. The number is similar to a “social security number” but it has a much broader use and it is considered public. It is used in public registers (for education, work, tax payment, healthcare, car ownership etc) and it often serves as a membership number or customer id within companies and member unions. It is also essential for example in the public health and quality registers maintained in Sweden (and other Scandinavian countries) and used for reaserch.&lt;/p&gt;

&lt;h3 id=&quot;motivation&quot;&gt;Motivation&lt;/h3&gt;

&lt;p&gt;Naturally, the “pin” is used extensively to distinguish individuals in data sets analysed by R. The number also helps to match data from different sources and it can bring some demographic background data into the bargain, such as birth date (age), sex and geographic origin (depending on your birth year).&lt;/p&gt;

&lt;p&gt;Up until now however, with the lack of a consistent R convention to handle “pins”, the number might be treated as either a 10 or 12 digit numeric (with or without century prefix), a character (with hyphen or a ‘+’-sign to distinguish birth date from suffix numbers) or as a factor variable. But the pin is not a number (to add, subtract or logarithm pins is just nonsense) and it contains more information than captured by the individual characters in a string. Luckily, the new R package &lt;code&gt;sweidnumbr&lt;/code&gt; (released on CRAN) is here for rescue!&lt;/p&gt;

&lt;h3 id=&quot;example&quot;&gt;Example&lt;/h3&gt;

&lt;p&gt;Let’s look at some data (all pins are fake; they have a valid syntax but do not identify any real individuals):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sweidnumbr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(sweidnumbr): there is no package called &amp;#39;sweidnumbr&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;knitr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fake_pins&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in tail(fake_pins, 10): object &amp;#39;fake_pins&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So far, pin is just a standard character vector but let’s change that to benefit from all of &lt;code&gt;sweidnumbr&lt;/code&gt;’s features:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;pin &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.pin&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fake_pins&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;pin&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in as.pin(fake_pins$pin): could not find function &amp;quot;as.pin&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;str&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in str(pin): object &amp;#39;pin&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We can now also investigate some demographic characteristics almost on the fly (note that pins contained geographical information only up to 1989):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;par&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mfrow &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
hist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin_age&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; col &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;lightgreen&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; main &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Age distribution&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in pin_age(pin): could not find function &amp;quot;pin_age&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;pie&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin_sex&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; main &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Sex distribution&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in pin_sex(pin): could not find function &amp;quot;pin_sex&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;pin_birthplace&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pin&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in pin_birthplace(pin[1:8]): could not find function &amp;quot;pin_birthplace&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;formats&quot;&gt;Formats&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;as.pin&lt;/code&gt; can recognize pins in several different formats such as:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt; as.pin&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;191212121212&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1212121212&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;121212-1212&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;121212+1212&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in as.pin(c(&amp;quot;191212121212&amp;quot;, &amp;quot;1212121212&amp;quot;, &amp;quot;121212-1212&amp;quot;, &amp;quot;121212+1212&amp;quot;)): could not find function &amp;quot;as.pin&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It also checks that the numbers follow the correct pin syntax:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;as.pin&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;181212121212&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Pins were introduced in 1946 and only for people not deceased before that&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in as.pin(&amp;quot;181212121212&amp;quot;): could not find function &amp;quot;as.pin&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;pin_ctrl&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;191212121211&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The last digit is a control number that is checked against preceeding digits&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in pin_ctrl(&amp;quot;191212121211&amp;quot;): could not find function &amp;quot;pin_ctrl&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;luhn_algo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;191212121211&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The correct control number can be calculated by the Luhn algorithm&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in luhn_algo(&amp;quot;191212121211&amp;quot;): could not find function &amp;quot;luhn_algo&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;organisational-numbers&quot;&gt;Organisational numbers&lt;/h3&gt;

&lt;p&gt;Not only individual has their personal identification number, so do companies and NGO:s. These features are covered by the &lt;em&gt;oin&lt;/em&gt; group of 
functions in the package. Feel free to try them out …&lt;/p&gt;

&lt;h3 id=&quot;other-countries&quot;&gt;Other countries&lt;/h3&gt;

&lt;p&gt;An analogous conversion function is availale for the Finnish social security numbers in the &lt;a href=&quot;https://github.com/rOpenGov/sorvi/blob/master/vignettes/sorvi_tutorial.md&quot;&gt;sorvi&lt;/a&gt; package.&lt;/p&gt;

&lt;h3 id=&quot;keep-in-touch&quot;&gt;Keep in touch!&lt;/h3&gt;
&lt;p&gt;… and feel free to suggest enhancements and report bugs to https://github.com/rOpenGov/sweidnumbr/issues&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Digital humanities with R</title>
      <link>http://ropengov.github.io/r/2015/06/12/Paris/</link>
      <pubDate>Fri, 12 Jun 2015 12:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2015/06/12/Paris</guid>
      <description>&lt;p&gt;Digital humanities is one of the fields where reproducible research is
now becoming increasingly popular. We got an opportunity to highlight the
latest advancement in this field in Paris &lt;a href=&quot;http://dhdhi.hypotheses.org/2428&quot;&gt;Digital Humanities
event&lt;/a&gt;, June 12 at &lt;a href=&quot;http://www.dhi-paris.fr/&quot;&gt;Deutsches
Historische Institut Paris&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The ‘digital humanities lab’ is an interactive experiment where the
audience actively participates in designing the analysis of massive
library catalogues. In particular, we focused on publishing activity
in the early modern period by mining the &lt;a href=&quot;http://estc.bl.uk/F/?func=file&amp;amp;file_name=login-bl-estc&quot;&gt;British Library ESTC
catalogue
1470-1800&lt;/a&gt;. To
facilitate this interactive session, we prepared reproducible
presentation slides with
&lt;a href=&quot;http://rmarkdown.rstudio.com/&quot;&gt;Rmarkdown&lt;/a&gt;. To be completed in the
workshop, carrying out data analysis on-the-fly together with the
audience. To reproduce the preliminary slides (we will complete them during the
workshop!), clone the &lt;a href=&quot;https://github.com/rOpenGov/slides&quot;&gt;rOpenGov slide
repository&lt;/a&gt; and run the following
commands in R:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rmarkdown&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
render&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;slides/20150612-Paris/20150611-Paris.Rmd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Unfortunately the ESTC data itself is not public, so we could not
share it. The slides and source code are fully reproducible, however,
so you can modify the template for your own purposes and check out our
summaries of the ESTC data collection at our &lt;a href=&quot;https://github.com/rOpenGov/estc&quot;&gt;estc
site&lt;/a&gt;. You may also like to read the
related &lt;a href=&quot;(http://douglasduhaime.com/blog/mapping-the-early-english-book-trade)&quot;&gt;excellent blog
post&lt;/a&gt;
of Douglas Duhaime on the same data set.&lt;/p&gt;

&lt;p&gt;We used a combination of &lt;a href=&quot;http://www.rstudio.com/&quot;&gt;RStudio&lt;/a&gt; and the
&lt;a href=&quot;http://github.com/rOpenGov/estc&quot;&gt;estc&lt;/a&gt; and
&lt;a href=&quot;http://github.com/rOpenGov/bibliographica&quot;&gt;bibliographica&lt;/a&gt; R packages
that are designed for bibliographic data analysis. Combined with the
vast analytical capabilities of the R statistical ecosystem, these
custom tools for digital humanities provide a rapid development
toolkit for reproducible research of historical document collections.&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>A hierarchical model of Finnish apartment prices</title>
      <link>http://ropengov.github.io/r/2015/06/11/apartment-prices/</link>
      <pubDate>Thu, 11 Jun 2015 00:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2015/06/11/apartment-prices</guid>
      <description>&lt;!-- for latex/mathjax equations --&gt;
&lt;script&gt;
  (function () {
    var script = document.createElement(&quot;script&quot;);
    script.type = &quot;text/javascript&quot;;
    script.src  = &quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;;
    document.getElementsByTagName(&quot;head&quot;)[0].appendChild(script);
  })();
&lt;/script&gt;

&lt;p&gt;Basing on open data from &lt;a href=&quot;http://www.stat.fi/index_en.html&quot;&gt;Statistics Finland&lt;/a&gt;, we at &lt;a href=&quot;http://reaktor.com/datascience&quot;&gt;Reaktor&lt;/a&gt; modelled Finnish apartment prices and their trends on zip-code level, in the years 2005–2014. Estimates from the model are available as an &lt;a href=&quot;http://kannattaakokauppa.fi/#/en/&quot;&gt;interactive visualization&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;why-do-statistical-modeling&quot;&gt;Why do (statistical) modeling?&lt;/h2&gt;

&lt;p&gt;The original price data consists of local (geometric) mean sales prices per year. The number of sales is available as well. If there are less than six sales, the mean price is censored.&lt;/p&gt;

&lt;p&gt;Partly missing data and noise from low number of transactions make it hard to evaluate local price levels, let alone their changes, except on the most urban areas.&lt;/p&gt;

&lt;p&gt;Yearly numbers of transactions for a few random zip codes are depicted on the left below. Censored slots are with red. On the right, all year-zip slots are ordered on the x-axis by their available number of sales data. 17.5% of slots are censored, and about half of the mean prices are either missing or based on less than 30 transactions.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/reaktor/Neliohinnat/master/figs/harvuus-en.png&quot; alt=&quot;Data are sparse&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mean price of 6–30 sales &lt;em&gt;is not a reliable estimate of the local mean&lt;/em&gt;, and deriving trends from so few sales is not going to be successful. (Still, it is repeatedly tried: There have been several top and bottom lists of apartment prices and their development published in the Finnish media lately. The media estimates are based on this raw data.)&lt;/p&gt;

&lt;p&gt;A statistical model has a concept of a &lt;em&gt;price level behind individual sales&lt;/em&gt;. 
It can then make a distinction between systematic variation of the underlying price level over time and place, and &lt;em&gt;random&lt;/em&gt; variation that is not explainable within the model. This is in contrast to looking at raw data without a model; then all variation is taken at face value.&lt;/p&gt;

&lt;p&gt;When the model is &lt;em&gt;estimated&lt;/em&gt;, it produces the underlying price level as its output. Of course, because the model cannot explain all variation in data, the price level estimates will also have a random component: Instead of a fixed value, we get a probability distribution. Means, trends, confidence intervals, etc., can be computed from these &lt;em&gt;posterior distributions&lt;/em&gt;. Provided the model is sensible, these estimates of underlying price trends are more informative than the raw data. Uncertainty of the estimates also reveals when data is not enough to draw any conclusions.&lt;/p&gt;

&lt;p&gt;Some properties of zip code areas, like population density, will correlate strongly with apartment prices. Such properties, if known and included in the model, allow us to &lt;em&gt;generalize&lt;/em&gt; over zip codes: estimates of price level become available even on places where the data is sparse or there is no data at all. Of course, uncertainty will then be higher, and the model will tell us that.&lt;/p&gt;

&lt;p&gt;Adjacency of the areas, or their hierarchy, can be used in the similar way to allow generalization between close-by areas. Once topography or hierarchy is parameterized to the model, it can see correlations between areas that are close to each other, or within the same larger area in the hierarchy. It will then generalize over areas, which helps especially when an area has few observations by itself.&lt;/p&gt;

&lt;p&gt;Note that as with demogrpahic covariates, no strict assumptions about geographic dependency are coded into the model. Rather, including these auxiliary parts allows the model to use dependency where it exists.&lt;/p&gt;

&lt;p&gt;Below, the map on the left shows raw mean prices over the whole period 2005–2014. White areas are without any available data. Map on the right shows the (mean) price level estimated from a model.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/reaktor/Neliohinnat/master/figs/raw-vs-model-en.png&quot; alt=&quot;Mean prices and model estimates from Espoo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Below, yearly mean prices and estimates of the underlying price level are depicted for some zip codes at Espoo, part of the capital area of Finland. Shading around the lines indicate uncertainty of the estimates. Even within this relatively urban region, estimates from some areas are quite noisy: 02150 or Otaniemi, 02240 or Friisilä, 02330 or Kattilalaakso, etc. Some areas have no sales at all. (But they may not have apartments either. The model does not know whether apartments exist.)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/reaktor/Neliohinnat/master/figs/espoota-en.png&quot; alt=&quot;Espoo curves&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The model can be used for forecasting, but future prices or trends will have large uncertainty, even larger than indicated by the model. The current model has quadratic shape for the temporal dependency. It was chosen to fit the data of the last decade and to give an idea of past price development that is easy to summarise. There is no reason why future changes in economy and policy would follow the same pattern.  Althought relative development of areas is more accurately predicted than absolute price levels or trends, &lt;em&gt;the model is at its best at describing past development of apartment prices, especially their spatial differences. There is no guarantee future will follow the same pattern&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The model, data, and environment are described in more detail below.&lt;/p&gt;

&lt;h2 id=&quot;environment-and-data&quot;&gt;Environment and data&lt;/h2&gt;

&lt;p&gt;We used &lt;a href=&quot;http://www.r-project.org&quot;&gt;R&lt;/a&gt; for almost all data manipulation, modeling and visualizations. Model itself was estimated with &lt;a href=&quot;http://mc-stan.org&quot;&gt;Stan&lt;/a&gt;. Source code for the project, except for the web site, is available in our &lt;a href=&quot;https://github.com/reaktor/Neliohinnat&quot;&gt;GitHub repo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The libraries &lt;a href=&quot;http://cran.r-project.org/web/packages/pxweb/index.html&quot;&gt;pxweb&lt;/a&gt; and &lt;a href=&quot;https://github.com/ropengov/gisfin&quot;&gt;gisfin&lt;/a&gt; make it easy to get &lt;a href=&quot;http://www.stat.fi/til/ashi/index.html&quot;&gt;apartment prices&lt;/a&gt; and other data from the public API’s. The libraries are developed in the  &lt;a href=&quot;http://louhos.github.io/&quot;&gt;Louhos&lt;/a&gt; and &lt;a href=&quot;http://ropengov.github.io/&quot;&gt;Ropengov&lt;/a&gt; projects. Zip code areas are from &lt;a href=&quot;http://www.palomaki.info/apps/pnro/&quot;&gt;Duukkis&lt;/a&gt;. Scripts used for downloading data and manipulating it are available in our &lt;a href=&quot;https://github.com/reaktor/Neliohinnat&quot;&gt;repo&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;map&quot;&gt;Map&lt;/h2&gt;

&lt;p&gt;Zip code polygons are available at least through the &lt;a href=&quot;http://www.stat.fi/tup/rajapintapalvelut/paavo.html&quot;&gt;Paavo API&lt;/a&gt; and from &lt;a href=&quot;http://www.palomaki.info/apps/pnro/&quot;&gt;Duukkis&lt;/a&gt;. Finland’s archipelago is extensive and complex, so zip codes extend well onto the Baltic sea.  Paavo offers two versions of the polygons, with or without the sea area. The zip code areas with sea can be intersected with the sea shore line, giving us a quite beautiful Finnish zip code map. The problem is its size: over 20MB in the GeoJSON format. We ended up using the polygons from Duukkis: They are a good compromise between size and accuracy.&lt;/p&gt;

&lt;p&gt;The set of zip codes varied a little bit from source to source, so some zip codes areas may be missing from the visualizations. A few small areas have no population, or the information about population is missing. These polygons are without a price estimate and appear as grey on the maps.&lt;/p&gt;

&lt;p&gt;Note that the model produces price and trend estimates even for areas with no apartments: just the relative position of the zip code and the local population density are enough for computing the estimate.&lt;/p&gt;

&lt;h2 id=&quot;model&quot;&gt;Model&lt;/h2&gt;

&lt;p&gt;Of the past sales, the model has yearly (geometric) average per location, and the associated number of sales, if these are not censored (&lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
n&lt;6 %]]&gt;&lt;/script&gt;). The latter scales the variance of the mean as an estimator of the population mean. Population mean is here the hypothetical mean of all potential &lt;em&gt;apartment sales&lt;/em&gt; on the areas. Of course all apartments are not sold at the same rate, so mean is biased towards prices of the apartments that are sold more often.&lt;/p&gt;

&lt;p&gt;Sparseness of the data is a problem especially for estimates of temporal price changes, and also for comparison of areas. Predictive covariates for the zip code areas are therefore valuable. A quite extensive set of demographic variables is available in the &lt;a href=&quot;http://www.stat.fi/tup/rajapintapalvelut/paavo.html&quot;&gt;Paavo data&lt;/a&gt;, but of these the model so far has only the population density included. It is probably the most predictive of the covariates, although not necessarily causal from the economics point of view.&lt;/p&gt;

&lt;p&gt;Spatial structure is included as a zip code prefix hierarchy. For example 02940 is within the Uusima district (0), city of Espoo (02), and northern Espoo (029). The hierarchy allows the model to see similarity within these and other equivalent nested areas. Real spatial continuity in the form of a Markov field or a latent gaussian field would be an alternative, but it would be much harder to estimate with the chosen tools, and may not be better on modelling administrative areas that &lt;em&gt;are&lt;/em&gt; nested, after all.&lt;/p&gt;

&lt;p&gt;Temporal change of prices is as interesting as their overall level. The model could have a separate price level for each year, but continuity over time would then be lost, and there would be no predictions. Also the relationships between price trends and covariates (population density) and between trends and spatial or hierarchical structure would be hard to define, for there would be no unique trend. These reasons and simplicity favor a simple temporal parameterization, as the current quadratic model. Combining hierarchy and covariates with a more flexible temporal model, like a gaussian process, is an interesting research question.&lt;/p&gt;

&lt;p&gt;In total, there are three parameters on the zip code level affecting log-scale prices: price level, its trend, and change of trend. On the next geographic hierarchy level three other parameters appear: the influences of (logarithmic) population density on price, trend and its change. These six parameters, three plus their interactions with population density, appear also on upper hierarchy levels. On each hierarchy level, the model has multinormal priors for the three or six parameters, and hyperpriors for the variance and covariance of the multinormal distribution. The covariances bind different parameters together, so that for example price level helps the estimation of price trend, or the influence of population density.&lt;/p&gt;

&lt;p&gt;In summary, the lowest level of the model for the log prices is&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\log h_{it} = 
       \beta_{i1} + \beta_{i2} t + \beta_{i3} t^2 + \beta_{i’4}d_i + \beta_{i’5}d_i\,t + \beta_{i’6}d_i\,t^2,&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\log y_{it} \sim 
\textrm{t}\,\left(\log h_{it}, \, \sqrt{\sigma^2_y + \frac{\sigma^2_w}{n_{it}}}, \, \nu\right)\,,&lt;/script&gt;

&lt;p&gt;where &lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt; refers to the zip code area, &lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt; is time, &lt;script type=&quot;math/tex&quot;&gt;\beta&lt;/script&gt; are coefficients specific to the zip code &lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt;, &lt;script type=&quot;math/tex&quot;&gt;i’&lt;/script&gt; is the first prefix hierarchy level of the zip code (population density parameters are constant within each &lt;script type=&quot;math/tex&quot;&gt;i’&lt;/script&gt;-area), &lt;script type=&quot;math/tex&quot;&gt;t()&lt;/script&gt; is the t-distribution, &lt;script type=&quot;math/tex&quot;&gt;\sigma_y&lt;/script&gt; is standard deviation of the underlying (log) price levels over years, &lt;script type=&quot;math/tex&quot;&gt;\sigma_w&lt;/script&gt; standar deviation of the prices within the measurement unit (year &lt;script type=&quot;math/tex&quot;&gt;\times&lt;/script&gt; zip), and &lt;script type=&quot;math/tex&quot;&gt;\nu&lt;/script&gt; the degrees of freedom of the residual t-distribution. Note that the linear model is for log-scale prices. The complete model is best described  by the &lt;a href=&quot;https://github.com/reaktor/Neliohinnat/blob/master/source/m4.stan&quot;&gt;source code&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Estimate for &lt;script type=&quot;math/tex&quot;&gt;\nu&lt;/script&gt; is around 6.5, that is, residuals are with a bit heavier tails than normal. From the covariance parameters (&lt;em&gt;Omega&lt;/em&gt; in the source) one sees that price level and trend correlate at the lowest level (&lt;script type=&quot;math/tex&quot;&gt;r&lt;/script&gt;=0,28), as do trend change and price level (&lt;script type=&quot;math/tex&quot;&gt;r&lt;/script&gt;=0,43). So price differences between areas have been growing during the last ten years, probably due to urbanisation, a global trend.&lt;/p&gt;

&lt;p&gt;Plotting area-wise prices and its changes against population density, one sees the expected correlation: remote areas are loosing in the sense of price, trend &lt;em&gt;and&lt;/em&gt; trend change.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/reaktor/Neliohinnat/master/figs/tiheys-korrelaatiot-en.png&quot; alt=&quot;Correlation of population density and price trends&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The model has been written and estimated with the probabilistic programming language Stan (&lt;a href=&quot;http://mc-stan.org/&quot;&gt;http://mc-stan.org/&lt;/a&gt;). Stan produces a Monte Carlo estimation algorithm from a generative model description.&lt;/p&gt;

&lt;h2 id=&quot;possible-improvements&quot;&gt;Possible improvements&lt;/h2&gt;

&lt;p&gt;The model could have more demographic covariates. Dealers have reminded us about the predictivity of the sales volume. Obviously, the number of sales is not in a predictive role in the current model.&lt;/p&gt;

&lt;p&gt;Apartment vary by their size, age, etc., but this heterogeneity is not taken into account. Trends are biased towards apartments that are sold more often. Some public data is available where sales are separated by size and age of the condos, but these data are even more sparse than the aggregate data used here.&lt;/p&gt;

&lt;p&gt;On the Finnish equivalent of this blog, Herra Huu suggested whitened parameterization, which may help with estimation.&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Reproducible posters with R, LaTeX, tikz and Sweave</title>
      <link>http://ropengov.github.io/r/poster/latex/sweave/tikz/2015/06/07/ICCSS/</link>
      <pubDate>Sun, 07 Jun 2015 12:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/poster/latex/sweave/tikz/2015/06/07/ICCSS</guid>
      <description>&lt;p&gt;rOpenGov is all about reproducible research, so preparing a
&lt;strong&gt;reproducible poster&lt;/strong&gt; became our mission after having the chance to
present at &lt;a href=&quot;http://iccss2015.eu/index.html&quot;&gt;International Conference on Computational Social Science
(ICCSS 2015)&lt;/a&gt; in Helsinki, June 8-11,
2015 (poster 36 in Monday session 15:30-17:00).&lt;/p&gt;

&lt;p&gt;We blended R code and output with the standard poster contents. The
poster sources download data with our &lt;a href=&quot;http://github.com/rOpenGov/eurostat&quot;&gt;eurostat R
package&lt;/a&gt; and automatically
generates the final figures and the overall layout.&lt;/p&gt;

&lt;p&gt;Whereas several ready-made layouts, such as
&lt;a href=&quot;http://www.brian-amberg.de/uni/poster/&quot;&gt;baposter&lt;/a&gt;,
&lt;a href=&quot;https://github.com/deselaers/latex-beamerposter&quot;&gt;beamerposter&lt;/a&gt;,
&lt;a href=&quot;http://www.ctan.org/pkg/tikzposter&quot;&gt;tikzposter&lt;/a&gt;,
&lt;a href=&quot;www.latextemplates.com/cat/conference-posters&quot;&gt;latextemplates.com&lt;/a&gt;
and &lt;a href=&quot;http://tex.stackexchange.com/questions/341/how-to-create-posters-using-latex&quot;&gt;other
options&lt;/a&gt;
were available and could be useful for fast poster design, they also
limit the available options as the graphical elements are laid out as
tightly defined text boxes. This is not suitable for all purposes, and
mixing ready-made styles with free design is potentially confusing. I
also bumped into some problems in incorporating R code with some of
these templates.&lt;/p&gt;

&lt;p&gt;Therefore we ended up using the plain 
&lt;a href=&quot;http://www.latex-project.org/&quot;&gt;LaTeX&lt;/a&gt;/&lt;a href=&quot;http://sourceforge.net/projects/pgf/&quot;&gt;tikz&lt;/a&gt;
combination which allows reproducible design of arbitrary poster
layouts and schematic figures, as well as automated numbering of
figures and references. The
&lt;a href=&quot;http://www.r-project.org&quot;&gt;R&lt;/a&gt;/&lt;a href=&quot;https://www.statistik.lmu.de/~leisch/Sweave/&quot;&gt;Sweave&lt;/a&gt;
allows incorporation of R code and output (figures, tables, text). The
&lt;a href=&quot;http://www.ctan.org/tex-archive/macros/latex/contrib/a0poster&quot;&gt;a0poster
style&lt;/a&gt;
provided appropriate font sizes and other LaTeX utilities for
posters. If you are a frequent LaTeX user, we warmly recommend
familiarizing with &lt;a href=&quot;http://www.texample.net/tikz/&quot;&gt;tikz&lt;/a&gt;. For further
details, see the &lt;a href=&quot;https://github.com/rOpenGov/poster/blob/master/2015-ICCSS/poster.Rnw&quot;&gt;poster
sources&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To reproduce &lt;a href=&quot;https://github.com/rOpenGov/poster/blob/master/2015-ICCSS/poster.pdf&quot;&gt;the A0 poster
(PDF)&lt;/a&gt;,
clone the &lt;a href=&quot;https://github.com/rOpenGov/poster&quot;&gt;rOpenGov poster
repository&lt;/a&gt; and run the following
commands in R:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;knitr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
knit2pdf&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;poster/2015-ICCSS/poster.Rnw&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2015-06-08-ICCSS/201506-poster.png&quot; alt=&quot;poster&quot; /&gt;&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>Searching, downloading and manipulating Eurostat data with R</title>
      <link>http://ropengov.github.io/r/2015/05/01/eurostat-package-examples/</link>
      <pubDate>Fri, 01 May 2015 12:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/r/2015/05/01/eurostat-package-examples</guid>
      <description>&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;We have published a new package &lt;code&gt;eurostat&lt;/code&gt; in &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;CRAN&lt;/a&gt;. To install the package in R, use:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;eurostat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The eurostat package is based on the &lt;a href=&quot;http://cran.r-project.org/web/packages/SmarterPoland/index.html&quot;&gt;SmarterPoland&lt;/a&gt; package, which was revised and expanded with new functionality. The new eurostat package includes the following functions:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;eurostat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(eurostat): there is no package called &amp;#39;eurostat&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;knitr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;ls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;package:eurostat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in as.environment(pos): no item called &amp;quot;package:eurostat&amp;quot; on the search list&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This blog post will walk you through the basic functionalities of the package. To reproduce the examples, run the following code to install the required dependencies.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;PACKAGES &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;eurostat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;countrycode&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;tidyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;dplyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Install packages&lt;/span&gt;
inst &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;all&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
need &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;which&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;inst&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;need&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;need&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in contrib.url(repos, type): trying to use CRAN without setting a mirror&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Load packages&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; character.only&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In this exercise we use indicator &lt;a href=&quot;http://ec.europa.eu/eurostat/en/web/products-datasets/-/TGS00026&quot;&gt;&lt;code&gt;tgs00026&lt;/code&gt;&lt;/a&gt;, (&lt;em&gt;Disposable income of private households by NUTS 2 regions&lt;/em&gt;) from Eurostat. Most indicators in Eurostat database are of &lt;em&gt;country-year&lt;/em&gt; -type,  however, some indicators have data also at lower level of regional breakdown, as &lt;code&gt;tgs00026&lt;/code&gt; at &lt;a href=&quot;http://en.wikipedia.org/wiki/Nomenclature_of_Territorial_Units_for_Statistics&quot;&gt;NUTS2&lt;/a&gt;-level. (See more information on regional classification &lt;a href=&quot;http://ec.europa.eu/eurostat/ramon/nomenclatures/index.cfm?TargetUrl=DSP_GEN_DESC_VIEW_NOHDR&amp;amp;StrNom=NUTS_33&amp;amp;StrLanguageCode=EN&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;h2 id=&quot;searching-and-downloading-data-from-eurostat&quot;&gt;Searching and downloading data from Eurostat&lt;/h2&gt;

&lt;p&gt;Though we have already picked the data for following demonstrations you can search the available variables using &lt;code&gt;search_eurostat&lt;/code&gt;-function. Data for &lt;em&gt;tables&lt;/em&gt; resides in &lt;em&gt;Datasets&lt;/em&gt; that are in &lt;em&gt;folders&lt;/em&gt;. You can specify in the function whether you want to look for &lt;em&gt;table&lt;/em&gt;, &lt;em&gt;dataset&lt;/em&gt; or a &lt;em&gt;folder&lt;/em&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;results &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; search_eurostat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;disposable income&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dataset&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in search_eurostat(&amp;quot;disposable income&amp;quot;, type = &amp;quot;dataset&amp;quot;): could not find function &amp;quot;search_eurostat&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# print the first 6 rows&lt;/span&gt;
kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;results&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in head(results): object &amp;#39;results&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Or you can also download the whole table of contents of the database with &lt;code&gt;get_eurostat_toc&lt;/code&gt;-function. In both cases the &lt;em&gt;values&lt;/em&gt; in column &lt;code&gt;code&lt;/code&gt; should be used to download a selected dataset.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;toc &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_eurostat_toc&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in get_eurostat_toc(): could not find function &amp;quot;get_eurostat_toc&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# print the first 6 rows&lt;/span&gt;
kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;toc&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in head(toc): object &amp;#39;toc&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;downloading-and-plotting-time-series-data-at-the-nuts2-regional-level&quot;&gt;Downloading and plotting time-series data at the NUTS2 regional level&lt;/h2&gt;

&lt;p&gt;However, we are interested in the disposable household income and first we download the data and convert the time column into numeric format.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;eurostat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(eurostat): there is no package called &amp;#39;eurostat&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Clean the cache first&lt;/span&gt;
clean_eurostat_cache&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in clean_eurostat_cache(): could not find function &amp;quot;clean_eurostat_cache&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Download the income variable&lt;/span&gt;
dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_eurostat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;tgs00026&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; time_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;raw&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in get_eurostat(&amp;quot;tgs00026&amp;quot;, time_format = &amp;quot;raw&amp;quot;): could not find function &amp;quot;get_eurostat&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Extract the information on country in question. (First two character in region string mark the country)&lt;/span&gt;
dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;cntry &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in substr(dat$geo, 1, 2): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Create the variable for proper countrynames using countryname-package&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;countrycode&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countryname &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; countrycode&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;cntry&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;iso2c&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;country.name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in mode(sourcevar): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# convert time column from Date to numeric&lt;/span&gt;
dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eurotime2num&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eurotime2num(dat$time): could not find function &amp;quot;eurotime2num&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Select only countries starting with F letter&lt;/span&gt;
dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dat&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;^C&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countryname&lt;span class=&quot;p&quot;&gt;),]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in head(dat): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Then we plot the data at the regional level and color the lines using country names derived from &lt;a href=&quot;http://cran.r-project.org/web/packages/countrycode/index.html&quot;&gt;&lt;code&gt;countrycode&lt;/code&gt;&lt;/a&gt;-package.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;values&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;group&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;countryname&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in ggplot(dat, aes(x = time, y = values, group = geo, color = countryname)): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Add the region names at the end of each line&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# p &amp;lt;- p + geom_text(data=merge(dat, aggregate(time ~ geo, dat, max), &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#                               by=c(&amp;quot;time&amp;quot;,&amp;quot;geo&amp;quot;)), &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#                    aes(x=time, y = values, label=geo), hjust=-0.5,vjust=-1,size=3)&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_label&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;dat &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;  group_by&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; na.omit&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
                     filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt;
                   aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;countryname&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;label&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; show.legend &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Disposable income of private households (€ per year)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Place the legend with country names on top in three rows&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;top&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; guides&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;color &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; guide_legend&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Country&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     title.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;top&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                     title.hjust&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     nrow&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     byrow&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;labelling-the-data&quot;&gt;Labelling the data&lt;/h3&gt;

&lt;p&gt;Function &lt;code&gt;label_eurostat&lt;/code&gt; provides a straighforward way to convert the codes in data into more meaningful labels. The &lt;code&gt;label_eurostat&lt;/code&gt; function requires that the data is in the “default format” with no added columns. First, check unlabeled example data:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# First, remove the cntry and countrycode columns that were added manually&lt;/span&gt;
cntry_cols &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dat&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cntry&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;countryname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dat&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cntry&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;countryname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Unlabeled data&lt;/span&gt;
kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in head(dat): object &amp;#39;dat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Labeling the data based on definitions from dictionary:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# apply the definitions from dictionary&lt;/span&gt;
datl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; label_eurostat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in label_eurostat(dat): could not find function &amp;quot;label_eurostat&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Labeled data&lt;/span&gt;
kable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in head(datl): object &amp;#39;datl&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Bind the country name columns back to the labelled data &lt;/span&gt;
datl2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;cntry_cols&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in cbind(datl, cntry_cols): object &amp;#39;datl&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;For clarity, we plot first four countries in alphabetical order in their own facets with region names.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# subset the first 4 countries in albhabetical order&lt;/span&gt;
datl3 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; datl2&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;datl2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countryname &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countryname&lt;span class=&quot;p&quot;&gt;))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;datl2&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# plot the data using country facets&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl3&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;values&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;group&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in ggplot(datl3, aes(x = time, y = values, group = geo)): object &amp;#39;datl3&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; ggrepel&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;geom_text_repel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl3&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; geo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; datl3&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                              by&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;geo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; 
                   aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; values&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; nudge_y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; coord_cartesian&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xlim&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;+3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;countryname&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; scales &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl3&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;indic_na&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\n(&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datl3&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;unit&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Disposable income of private households (€ per year)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;mapping-the-household-incomes-at-nuts2-level&quot;&gt;Mapping the household incomes at NUTS2 level&lt;/h2&gt;

&lt;p&gt;In the following exercise we are plotting household income data from Eurostat on map from three different years. In addition to downloading and manipulating data from EUROSTAT, we will demonstrate how to access and use shapefiles of Europe published by EUROSTAT at &lt;a href=&quot;http://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units&quot;&gt;Administrative units / Statistical units&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For this exercise you need few more dependencies that can be installed running the following script.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;PACKAGES &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rgdal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;maptools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rgeos&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;stringr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;scales&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;grid&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Install packages&lt;/span&gt;
inst &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;all&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
need &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;which&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;inst&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;need&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;need&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Load packages&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;PACKAGES&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; character.only&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;downloading-and-manipulating-the-tabular-data&quot;&gt;Downloading and manipulating the tabular data&lt;/h3&gt;

&lt;p&gt;First, we shall retrieve the nuts2-level figures of variable &lt;code&gt;tgs00026&lt;/code&gt; (Disposable income of private households by NUTS 2 regions) and filter out only the year 2011.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;eurostat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in library(eurostat): there is no package called &amp;#39;eurostat&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_eurostat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;tgs00026&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; time_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;raw&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in get_eurostat(&amp;quot;tgs00026&amp;quot;, time_format = &amp;quot;raw&amp;quot;): could not find function &amp;quot;get_eurostat&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# convert time column from Date to numeric&lt;/span&gt;
df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eurotime2num&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eurotime2num(df$time): could not find function &amp;quot;eurotime2num&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# subset time to have data for 2011&lt;/span&gt;
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;time&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2011&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in df$time: object of type &amp;#39;closure&amp;#39; is not subsettable&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Second, we use &lt;code&gt;cut_to_classes&lt;/code&gt;-function to classify our numeric &lt;code&gt;values&lt;/code&gt; for the choropleth map.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value_cat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cut_to_classes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;values&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in cut_to_classes(df$values, n = 5): could not find function &amp;quot;cut_to_classes&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Third, we use &lt;code&gt;merge_eurostat_geospatial&lt;/code&gt;-function to download the shapefile at 1:60 million resolution from year 2010 and merge it with our Eurostat attribute data.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;map.df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; merge_eurostat_geodata&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geocolumn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;geo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; resolution &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;60&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; all_regions &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; output_class &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in merge_eurostat_geodata(data = df, geocolumn = &amp;quot;geo&amp;quot;, resolution = &amp;quot;60&amp;quot;, : could not find function &amp;quot;merge_eurostat_geodata&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;plotting-the-maps-using-ggplot2&quot;&gt;Plotting the maps using ggplot2&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scales&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Loop over the three years&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;map.df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;long&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;lat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;group&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;group&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in ggplot(data = map.df, aes(long, lat, group = group)): object &amp;#39;map.df&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_polygon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; map.df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;long&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;lat&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;fill&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_polygon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; value_cat&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;dim grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; scale_fill_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#d7191c&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#fdae61&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#ffffbf&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#a6d96a&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#1a9641&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; coord_map&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;project&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;orthographic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xlim&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ylim&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                        legend.justification&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        legend.key.size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;unit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;mm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        legend.direction &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;vertical&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        legend.background&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;alpha&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
                        legend.text&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                        legend.title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                        title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
                        panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
                        plot.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
                        panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;Grey80&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;solid&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;Grey80&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;solid&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        axis.text &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
                        axis.title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
                        axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
                        plot.margin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; unit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;cm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; guides&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; guide_legend&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;€ per Year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                   title.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;top&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                   title.hjust&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Disposable household incomes in  2011&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in eval(expr, envir, enclos): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in print(p): object &amp;#39;p&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We are done! That was a small exercise on how to use the main functions in the &lt;code&gt;eurostat&lt;/code&gt;-package. We hope you find the package useful! All suggestions, bug reports, and contributions are warmly welcome at: &lt;a href=&quot;https://github.com/ropengov/eurostat&quot;&gt;https://github.com/ropengov/eurostat&lt;/a&gt;. When using the packages, please cite accordingly:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;citation&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;eurostat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## Error in citation(&amp;quot;eurostat&amp;quot;): package &amp;#39;eurostat&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;sessionInfo&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## R version 3.5.1 (2018-07-02)
## Platform: x86_64-suse-linux-gnu (64-bit)
## Running under: openSUSE Tumbleweed
## 
## Matrix products: default
## BLAS: /usr/lib64/R/lib/libRblas.so
## LAPACK: /usr/lib64/R/lib/libRlapack.so
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=C                  LC_COLLATE=fi_FI.UTF-8    
##  [5] LC_MONETARY=fi_FI.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=fi_FI.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] grid      stats     graphics  grDevices utils     datasets  methods  
## [8] base     
## 
## other attached packages:
##  [1] scales_1.0.0      rgeos_0.4-2       maptools_0.9-4   
##  [4] rgdal_1.3-6       sp_1.3-1          dplyr_0.7.8      
##  [7] tidyr_0.8.2       countrycode_1.1.0 ggplot2_3.1.0    
## [10] stringr_1.3.1     reshape2_1.4.3    knitr_1.20       
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.0       bindr_0.1.1      magrittr_1.5     tidyselect_0.2.5
##  [5] munsell_0.5.0    lattice_0.20-35  colorspace_1.3-2 R6_2.3.0        
##  [9] rlang_0.3.0.1    plyr_1.8.4       tools_3.5.1      gtable_0.2.0    
## [13] withr_2.1.2      lazyeval_0.2.1   assertthat_0.2.0 tibble_1.4.2    
## [17] crayon_1.3.4     bindrcpp_0.2.2   purrr_0.2.5      glue_1.3.0      
## [21] evaluate_0.12    stringi_1.2.4    compiler_3.5.1   pillar_1.3.0    
## [25] foreign_0.8-70   pkgconfig_2.0.2&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
    </item>
    
    
    
    <item>
      <title>fmi and FMI observation stations</title>
      <link>http://ropengov.github.io/general/2014/12/30/fmi-stations/</link>
      <pubDate>Tue, 30 Dec 2014 07:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2014/12/30/fmi-stations</guid>
      <description>&lt;h2 id=&quot;preface&quot;&gt;Preface&lt;/h2&gt;

&lt;p&gt;This demo blog post uses a very developmental version of &lt;code&gt;fmi&lt;/code&gt;. To run the demo
on your own computer, you will have to do the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# fmi depends on rwfs&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropengov/rwfs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropengov/fmi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;accessing-fmi-weather-station-data-using-package-fmi&quot;&gt;Accessing FMI weather station data using package fmi&lt;/h2&gt;

&lt;p&gt;As explained in the &lt;a href=&quot;https://ropengov.github.io/general/2014/09/30/fmi/&quot;&gt;previous post&lt;/a&gt;, 
package &lt;a href=&quot;https://github.com/rOpenGov/fmi&quot;&gt;&lt;code&gt;fmi&lt;/code&gt;&lt;/a&gt; brings various kinds of data
from the Finnish Meteorological Institute’s (FMI) open API to R. The work on the
package is still very much in progress, but when I got asked if it’s 
possible to get location (i.e. wheather station) specific precipitation and 
temperature data for a specific time period, I decided to take &lt;code&gt;fmi&lt;/code&gt; for a spin.&lt;/p&gt;

&lt;p&gt;FMI deserves compliments for the implemenetation of an open API, but the 
documentation of some of the API parameters has left room for improvement. 
For some lively discussion (in Finnish), see &lt;a href=&quot;https://www.facebook.com/groups/fi.okfn/permalink/10152804124115628/&quot;&gt;here&lt;/a&gt;.
Fortunately, method &lt;a href=&quot;https://github.com/rOpenGov/fmi/blob/master/vignettes/fmi_tutorial.md#automated-request&quot;&gt;getDailyWeather()&lt;/a&gt; in &lt;code&gt;fmi&lt;/code&gt; returns the necessary 
measurements (precipitation and temperature) as is, so no need to figure out the
specific parameter values for the request. A 
&lt;a href=&quot;http://data.fmi.fi/fmi-apikey/cdc84a28-60b7-44c3-ad5d-442d34edc435/meta?observableProperty=observation&amp;amp;param=rrday,tday,snow,tmin,tmax&amp;amp;language=eng&quot;&gt;little more digging&lt;/a&gt; 
does reveal, however, more information for example on the units used to record the
measurements. Hand picking the information from the XML reveals the following
table:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Parameter&lt;/th&gt;
      &lt;th&gt;Label&lt;/th&gt;
      &lt;th&gt;Base phenomenon&lt;/th&gt;
      &lt;th&gt;Unit&lt;/th&gt;
      &lt;th&gt;Stat function&lt;/th&gt;
      &lt;th&gt;Agg time period&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;rrday&lt;/td&gt;
      &lt;td&gt;Precipitation amount&lt;/td&gt;
      &lt;td&gt;Amount of precipitation&lt;/td&gt;
      &lt;td&gt;mm&lt;/td&gt;
      &lt;td&gt;acc&lt;/td&gt;
      &lt;td&gt;PT24H&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;snow&lt;/td&gt;
      &lt;td&gt;Snow depth&lt;/td&gt;
      &lt;td&gt;Snow cover&lt;/td&gt;
      &lt;td&gt;cm&lt;/td&gt;
      &lt;td&gt;instant&lt;/td&gt;
      &lt;td&gt;PT1M&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tday&lt;/td&gt;
      &lt;td&gt;Air temperature&lt;/td&gt;
      &lt;td&gt;Temperature&lt;/td&gt;
      &lt;td&gt;degC&lt;/td&gt;
      &lt;td&gt;avg&lt;/td&gt;
      &lt;td&gt;P1D&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tmax&lt;/td&gt;
      &lt;td&gt;Maximum temperature&lt;/td&gt;
      &lt;td&gt;Temperature&lt;/td&gt;
      &lt;td&gt;degC&lt;/td&gt;
      &lt;td&gt;max&lt;/td&gt;
      &lt;td&gt;PT24H&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tmin&lt;/td&gt;
      &lt;td&gt;Minimum temperature&lt;/td&gt;
      &lt;td&gt;Temperature&lt;/td&gt;
      &lt;td&gt;degC&lt;/td&gt;
      &lt;td&gt;min&lt;/td&gt;
      &lt;td&gt;PT24H&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;So far so good, &lt;code&gt;rrday&lt;/code&gt; and &lt;code&gt;tday&lt;/code&gt; should do the trick. However, we still need
to be able to query a specific weather station, for which we need some sort of
an identifier. The location we’re interested is Kiutaköngäs in Kuusamo, a rather
spectacular section of rapids in the river Oulanka located right next to the 
&lt;a href=&quot;https://en.wikipedia.org/wiki/Oulanka_National_Park&quot;&gt;Oulanka national park&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://static.panoramio.com/photos/large/1735117.jpg&quot; alt=&quot;Kiutaköngäs&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It turns out (not by coincidence) that FMI has an active observation station 
located at Kiutaköngäs. It may be possible to get a full list of weather 
stations throught the FMI API itself, but so far &lt;code&gt;fmi&lt;/code&gt; does not know anything 
about it. In the meanwhile, I scraped 
&lt;a href=&quot;http://en.ilmatieteenlaitos.fi/observation-stations&quot;&gt;a table of observation stations&lt;/a&gt; 
from the FMI web site, and created a utility function &lt;code&gt;fmi_weather_stations()&lt;/code&gt; 
in &lt;code&gt;fmi&lt;/code&gt;. The function returns a dataframe of all active observation stations:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;##                               Nimi FMISID LPNN   WMO    Lat    Lon Korkeus    Ryhmät Alkaen
## 1                   Alajärvi Möksy 101533 3314  2787  63,09  24,26     170 Sääasemat   1996
## 2                   Antarktis Aboa 112275 9950 89014 -73,05 -13,38     497 Sääasemat   2003
## 3          Asikkala Pulkkilanharju 101185 1434  2727  61,27  25,52      80 Sääasemat   1991
## 4 Enontekiö Kilpisjärvi kyläkeskus 102016 9003  2801  69,05  20,79     480 Sääasemat   1983
## 5      Enontekiö Kilpisjärvi Saana 102017 9004  2701  69,04  20,85    1002 Sääasemat   1991
## 6             Enontekiö lentoasema 101976 8208  2802  68,36  23,43     306 Sääasemat   1999&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Using column &lt;code&gt;FMISID&lt;/code&gt; seems promising, and with a little skimming through the
table, we can locate the correct station:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;kiutakongas.station &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; stations&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;99&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;
kiutakongas.station&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;##                   Nimi FMISID LPNN  WMO   Lat   Lon Korkeus    Ryhmät Alkaen
## 99 Kuusamo Kiutaköngäs 101887 6802 2811 66,37 29,31     165 Sääasemat   1966&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The convience methods in &lt;code&gt;fmi&lt;/code&gt; took a little adjusting, but afterwards it is
possible to use &lt;code&gt;FMISID&lt;/code&gt; in the query paramaters. Following the &lt;code&gt;fmi&lt;/code&gt; tutorial,
it is now possible to do the following. &lt;strong&gt;NOTE!&lt;/strong&gt; You will need to provide
&lt;a href=&quot;http://en.ilmatieteenlaitos.fi/open-data-manual-fmi-wfs-services&quot;&gt;your own apiKey&lt;/a&gt; first:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;apiKey &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ENTER YOUR API KEY HERE&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Set the correct FMISID&lt;/span&gt;
fmisid.kiuta &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; kiutakongas.station&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;FMISID

request &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; FMIWFSRequest&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apiKey&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;apiKey&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
request&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;setParameters&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;getFeature&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      storedquery_id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fmi::observations::weather::daily::timevaluepair&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      parameters&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rrday,snow,tday,tmin,tmax&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
client &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; FMIWFSClient&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;request&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
response &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; client&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;getDailyWeather&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;startDateTime&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2014-01-01T00:00:00Z&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                   endDateTime&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2014-01-01T00:00:00Z&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                   fmisid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fmisid.kiuta&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## OGR data source with driver: GML 
## Source: &amp;quot;/tmp/Rtmp7qUcRy/filee1636d3f243&amp;quot;, layer: &amp;quot;PointTimeSeriesObservation&amp;quot;
## with 5 features and 13 fields
## Feature type: wkbPoint with 2 dimensions&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Obviously we are usually interested in time periods longer than one day. In
addition, massaging the data returned by &lt;code&gt;getDailyWeather()&lt;/code&gt; still takes a
little manual work. Wrapping this manual work into an utility function:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# dplyr FTW!&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

get_weather_data &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apiKey&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; startDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; endDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fmisid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

  request &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; FMIWFSRequest&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apiKey&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;apiKey&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
  request&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;setParameters&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;getFeature&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        storedquery_id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fmi::observations::weather::daily::timevaluepair&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        parameters&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rrday,snow,tday,tmin,tmax&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
  client &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; FMIWFSClient&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;request&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  response &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; client&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;getDailyWeather&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;startDateTime&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;startDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     endDateTime&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;endDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                     fmisid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fmisid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;c1&quot;&gt;# Manual splicing and dicing&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# 1. Get just the time, variable, and measurement&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# 2. Replace NaNs in the response with NAs and convert measurement to numeric&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# 3. Coerce time strings to Dates&lt;/span&gt;
  measurements &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dat &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
    select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; measurement&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
    mutate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;measurement&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;ifelse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;measurement&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; measurement&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
    mutate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  
  &lt;span class=&quot;kr&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;measurements&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Using the function above simplifies querying. For demonstration, let’s
get data for the whole year 2012:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;startDateTime &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-01-01&amp;quot;&lt;/span&gt;
endDateTime &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-12-31&amp;quot;&lt;/span&gt;

kiuta.2012 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_weather_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apiKey&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; startDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; endDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fmisid.kiuta&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## OGR data source with driver: GML 
## Source: &amp;quot;/tmp/Rtmp7qUcRy/filee167651b46d&amp;quot;, layer: &amp;quot;PointTimeSeriesObservation&amp;quot;
## with 5 features and 743 fields
## Feature type: wkbPoint with 2 dimensions&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Let’s take a look at the measurement data (first 2 days):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;kiuta.2012&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;##          time variable measurement
## 1  2012-01-01    rrday        -1.0
## 2  2012-01-01     snow        50.0
## 3  2012-01-01     tday        -6.0
## 4  2012-01-01     tmin        -9.8
## 5  2012-01-01     tmax        -3.6
## 6  2012-01-02    rrday         0.5
## 7  2012-01-02     snow        47.0
## 8  2012-01-02     tday        -7.9
## 9  2012-01-02     tmin        -9.8
## 10 2012-01-02     tmax        -6.7&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The measurements may contain NAs and values -1, which I suspect may also have
something to do with missing values but can’t say for sure.&lt;/p&gt;

&lt;p&gt;For comparison’s sake, let’s also get some data from Kaisaniemi (Helsinki)
observation station:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;fmisid.kaisa &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; stations&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;FMISID

kaisa.2012 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_weather_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apiKey&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; startDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; endDateTime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fmisid.kaisa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## OGR data source with driver: GML 
## Source: &amp;quot;/tmp/Rtmp7qUcRy/filee16190c6a38&amp;quot;, layer: &amp;quot;PointTimeSeriesObservation&amp;quot;
## with 5 features and 743 fields
## Feature type: wkbPoint with 2 dimensions&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;plotting&quot;&gt;Plotting&lt;/h3&gt;

&lt;p&gt;Let’s inspect the data by some plotting. First, however, some more data
processing:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;kiuta.2012&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;location &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Kuusamo, Kiutaköngäs&amp;quot;&lt;/span&gt;

kaisa.2012&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;location &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Helsinki, Kaisaniemi&amp;quot;&lt;/span&gt;

dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;kiuta.2012&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; kaisa.2012&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;First, lets plot the minimum (&lt;code&gt;tmin&lt;/code&gt;), average (&lt;code&gt;tday&lt;/code&gt;) and maximum (&lt;code&gt;tmax&lt;/code&gt;) 
temperature per day over year 2012. Plotting below uses 
&lt;a href=&quot;/figs/2014-12-30-fmi-stations/theme.R&quot;&gt;a custom theme&lt;/a&gt; for &lt;code&gt;ggplot2&lt;/code&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; variable &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;tday&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tmax&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tmin&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;measurement&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; location&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ncol&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; ylab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Temperature (C)\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  xlab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\nDate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; custom.theme&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2014-12-30-fmi-stations/plot-temperature-1.png&quot; alt=&quot;plot of chunk plot-temperature&quot; /&gt;&lt;/p&gt;

&lt;p&gt;While we’re at it, let’s also plot the snowdepth:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; variable &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;snow&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;measurement&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;location&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; xlab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\nDate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; ylab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Snowdepth (cm)\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; custom.theme&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2014-12-30-fmi-stations/plot-snowdepth-1.png&quot; alt=&quot;plot of chunk plot-snowdepth&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Finally, let’s take a look at precipitation measurement values and their means:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; variable &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rrday&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;time&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;measurement&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;location&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
p &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; stat_smooth&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;loess&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; xlab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\nDate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
  ylab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Precipitation (mm)\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; custom.theme&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/figs/2014-12-30-fmi-stations/plot-precipitation-1.png&quot; alt=&quot;plot of chunk plot-precipitation&quot; /&gt;&lt;/p&gt;

&lt;p&gt;That’s it, a small demo on how to use &lt;code&gt;fmi&lt;/code&gt; package for fetching observation
station specific data.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span&gt;&lt;/span&gt;sessionInfo&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;## R version 3.1.1 (2014-07-10)
## Platform: x86_64-suse-linux-gnu (64-bit)
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8      LC_NUMERIC=C              LC_TIME=en_US.utf8        LC_COLLATE=en_US.utf8    
##  [5] LC_MONETARY=en_US.utf8    LC_MESSAGES=en_US.utf8    LC_PAPER=en_US.utf8       LC_NAME=C                
##  [9] LC_ADDRESS=C              LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8 LC_IDENTIFICATION=C      
## 
## attached base packages:
## [1] grid      stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] knitr_1.8      reshape2_1.4.1 ggplot2_1.0.0  dplyr_0.3.0.2  fmi_0.1.12     R6_2.0.1       devtools_1.6.1
## 
## loaded via a namespace (and not attached):
##  [1] assertthat_0.1   colorspace_1.2-4 DBI_0.3.1        digest_0.6.7     evaluate_0.5.5   formatR_1.0     
##  [7] gtable_0.1.2     htmltools_0.2.6  labeling_0.3     lattice_0.20-29  lazyeval_0.1.9   magrittr_1.5    
## [13] MASS_7.3-33      munsell_0.4.2    parallel_3.1.1   plyr_1.8.1       proto_0.3-10     raster_2.3-12   
## [19] Rcpp_0.11.3      rgdal_0.9-1      rmarkdown_0.4.2  rwfs_0.1.12      scales_0.2.4     sp_1.0-16       
## [25] stringr_0.6.2    tools_3.1.1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
    </item>
    
    
    
    <item>
      <title>fmi</title>
      <link>http://ropengov.github.io/general/2014/09/30/fmi/</link>
      <pubDate>Tue, 30 Sep 2014 12:00:00 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2014/09/30/fmi</guid>
      <description>&lt;p&gt;An R package &lt;a href=&quot;https://github.com/rOpenGov/fmi&quot;&gt;fmi&lt;/a&gt; for the Finnish Meteorological Institute
&lt;a href=&quot;https://en.ilmatieteenlaitos.fi/open-data&quot;&gt;open data API&lt;/a&gt; has been released.
The package provides an access from R to many data sets including weather conditions,
climate scenarios, sea related observations and sun radiation in Finland.
Installation instructions, examples and other details are provided in the
&lt;a href=&quot;https://github.com/rOpenGov/fmi/blob/master/vignettes/fmi_tutorial.md&quot;&gt;tutorial&lt;/a&gt;.
The package is in beta and test experiences and contributions are welcome!
For the contact details, see the package &lt;a href=&quot;https://github.com/rOpenGov/fmi&quot;&gt;home page&lt;/a&gt;.
The package has been jointly developed with &lt;a href=&quot;https://github.com/rOpenGov/rwfs&quot;&gt;rwfs&lt;/a&gt; package,
which provides a generic access to WFS interfaces in R.&lt;/p&gt;

</description>
    </item>
    
    
    
    
    
    <item>
      <title>Open Knowledge Festival</title>
      <link>http://ropengov.github.io/general/2014/07/18/OKFest/</link>
      <pubDate>Fri, 18 Jul 2014 18:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2014/07/18/OKFest</guid>
      <description>&lt;p&gt;&lt;a href=&quot;http://ropengov.github.io&quot;&gt;rOpenGov&lt;/a&gt; developers met at the &lt;a href=&quot;http://2014.okfestival.org/programme/&quot;&gt;Open
Knowledge Festival&lt;/a&gt; in Berlin,
July 15-17. We discussed the development of representation formats for
social/political science data sets. The
&lt;a href=&quot;https://github.com/rOpenGov/psData/tree/devPanel&quot;&gt;psData&lt;/a&gt; package for
panel series data is now under active development, and further plans
include similar structures for election and other data
sources. Standardized representation formats will allow the
development and application of analysis algorithms beyond particular
applications. Robert Gentleman from Bioconductor has
&lt;a href=&quot;http://www.nature.com/nbt/journal/v31/n10/full/nbt.2721.html&quot;&gt;said&lt;/a&gt;:
‘If everybody puts their - - data into the same kind of box, it
doesn’t matter how the data came about, but that box is the same and
can be used by analytic tools. Really, I think it’s data structures
that drive interoperability.’&lt;/p&gt;

&lt;p&gt;Overall, the OKFest 2014 was a great success with an interesting
program and good athmosphere. Thanks for all organizers and
participants!&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>sweSCB</title>
      <link>http://ropengov.github.io/general/2013/12/10/sweSCB/</link>
      <pubDate>Tue, 10 Dec 2013 18:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2013/12/10/sweSCB</guid>
      <description>&lt;p&gt;The R package to interface with the API of Statistics Sweden (SCB), named &lt;a href=&quot;https://github.com/rOpenGov/sweSCB&quot;&gt;sweSCB&lt;/a&gt; has now joined on the growing list of contributing packages in the rOpenGov community project.&lt;/p&gt;

&lt;p&gt;This package offers methods to fetch information about the data hierarchy stored behind the API; extract metadata; fetch actual data; and clean up the results. For more details, &lt;a href=&quot;https://github.com/rOpenGov/sweSCB&quot;&gt;check the package&lt;/a&gt;. Your feedback and issue reports are welcome, as always.&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>NIPS/MLOSS workshop on Machine Learning Open Source Software</title>
      <link>http://ropengov.github.io/general/2013/12/10/MLOSS/</link>
      <pubDate>Tue, 10 Dec 2013 18:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2013/12/10/MLOSS</guid>
      <description>&lt;p&gt;The &lt;a href=&quot;http://ropengov.github.io&quot;&gt;rOpenGov&lt;/a&gt; project was today
highlighted at the Neural Information Processing Systems
&lt;a href=&quot;http://nips.cc/&quot;&gt;(NIPS)&lt;/a&gt; conference, one of the main forums for
machine learning and scientific computation. We gave a presentation at
the &lt;a href=&quot;http://nips.cc/Conferences/2013/Program/event.php?ID=3710&quot;&gt;Machine Learning Open Source Software (MLOSS)
workshop&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A number of other interesting projects were present, including
&lt;a href=&quot;http://ipython.org/&quot;&gt;iPython&lt;/a&gt;,
&lt;a href=&quot;http://factorie.cs.umass.edu/&quot;&gt;Factorie&lt;/a&gt;,
&lt;a href=&quot;http://scikit-learn.org/stable/&quot;&gt;scikit-learn&lt;/a&gt;, and many others. For
a full list, see the &lt;a href=&quot;http://mloss.org/workshop/nips13/&quot;&gt;MLOSS&lt;/a&gt; site.&lt;/p&gt;

&lt;p&gt;While the rOpenGov ecosystem is based on R, we actively seek
connections with related initiatives in other languages, such as
Python or Julia. The &lt;a href=&quot;http://ipython.org/&quot;&gt;iPython&lt;/a&gt; is particularly
interesting in this regard with its fluent tools to mix code from
various languages with automated document generation tools that
support LaTeX and markdown. An added R support for this project would
extend the applicability of rOpenGov toolkits beyond the R
community. Looking forward !&lt;/p&gt;

</description>
    </item>
    
    
    
    <item>
      <title>rOpenGov</title>
      <link>http://ropengov.github.io/general/2013/12/09/ropengov/</link>
      <pubDate>Mon, 09 Dec 2013 18:53:45 +0000</pubDate>
      <author></author>
      <guid>http://ropengov.github.io/general/2013/12/09/ropengov</guid>
      <description>&lt;h2 id=&quot;r-ecosystem-for-open-government-data-and-computational-social-science&quot;&gt;R Ecosystem for Open Government Data and Computational Social Science&lt;/h2&gt;

&lt;p&gt;Hello world !&lt;/p&gt;

&lt;p&gt;This is to announce the &lt;a href=&quot;http://ropengov.github.io&quot;&gt;rOpenGov&lt;/a&gt; project
and encourage new contributions to promote community-driven
development of R tools for open government data and computational
social science.&lt;/p&gt;

&lt;p&gt;A community of independent package developers around open goverment
data analytics is now emerging at rOpenGov. Independent
&lt;a href=&quot;http://ropengov.github.io/projects/&quot;&gt;projects&lt;/a&gt; dedicated to
&lt;a href=&quot;https://github.com/rOpenGov/govdat&quot;&gt;US&lt;/a&gt;,
&lt;a href=&quot;http://markuskainu.fi/rustfare/index.html&quot;&gt;Russia&lt;/a&gt;,
&lt;a href=&quot;http://louhos.github.io/sorvi/&quot;&gt;Finland&lt;/a&gt;,
&lt;a href=&quot;http://smarterpoland.pl&quot;&gt;Poland&lt;/a&gt;,
&lt;a href=&quot;https://github.com/skasberger/grazwahl2012&quot;&gt;Austria&lt;/a&gt;, and
&lt;a href=&quot;http://osmar.r-forge.r-project.org/&quot;&gt;OpenStreetMap&lt;/a&gt; have already
joined in; more are coming and we will keep you posted through this
blog.&lt;/p&gt;

&lt;p&gt;The rapidly emerging governmental and other open data streams provide
novel opportunities for social sciences, data journalism, and citizen
participation across the globe while computational tools to utilize
these resources are lacking.  A community-driven software ecosystem
provides a scalable solution and a potential to revolutionize the
field, taking advantage of the lessons learned in
&lt;a href=&quot;http://www.bioconductor.org&quot;&gt;Bioconductor&lt;/a&gt;,
&lt;a href=&quot;http://ropensci.org&quot;&gt;rOpenSci&lt;/a&gt;, and related projects. The umbrella
site focusing on open government data R tools will give added
visibility and recognition for independent package developers, an
opportunity to attract contributors, and a forum for exchanging ideas
and information.&lt;/p&gt;

&lt;p&gt;The project is in beta, and more information will be added soon.  You
can follow us on &lt;a href=&quot;http://ropengov.github.io/&quot;&gt;rOpenGov blog&lt;/a&gt;,
&lt;a href=&quot;https://twitter.com/ropengov&quot;&gt;Twitter&lt;/a&gt;,
&lt;a href=&quot;https://plus.google.com/u/0/communities/108289259916380218460&quot;&gt;Google+&lt;/a&gt;,
and IRC (ropengov@Freenode). If you are working on related projects,
don’t hesitate to get in touch!&lt;/p&gt;

&lt;!--[get in touch](contact.html)--&gt;

</description>
    </item>
    
    
    
    

  </channel> 
	

	
</rss>
